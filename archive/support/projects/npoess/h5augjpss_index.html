
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!-- If no var is set for $page_title on the top of each page than default title will be HDF Group -->

<title>
h5augjpss - the JPSS Augmentation Tool</title>
	<meta name="keywords" content="hdf, hdfeos, blog, hdf blog, hdf5 blog, hdf5, hdf4, hdf tools, hdf libraries, hdf viewer, hdf format, hdf file, hdf java, nafxcw.lib, phdf5, open source, hierarchical data format, ncsa, database, python hdf, mike folk, hdfview, hdf5 parallel" />
	<meta name="description" content="The HDF Group is a not-for-profit corporation with the mission of sustaining the HDF technologies and supporting HDF user communities worldwide with production-quality software and services." />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="expires" content="Wed, 26 Feb 2010 08:21:57 GMT" />
	<meta name="verify-v1" content="/m03HNmaDgGAcDe0PFtEVnXGtCkoeOocjr/Jwey2gdI=" />
	<link href="../../css/layout.css" rel="stylesheet" type="text/css" media="screen, projection" />
	<link href="../../css/print.css" rel="stylesheet" type="text/css" media="print" />
	<link rel="stylesheet" type="text/css" href="../../css/js_style.css" />
	<link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon" />
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.2.0/prototype.js"></script>
	<!--<script type="text/javascript" src="/scriptaculous/lib/prototype.js"></script>-->
	<script type="text/javascript" src="../../scriptaculous/src/effects.js"></script>
	<script type="text/javascript" src="../../scriptaculous/validation.js"></script>
	<script type="text/javascript" src="../../scriptaculous/animatedcollapse.js"></script>
	<script type="text/javascript" src="../../scriptaculous/rollover.js"></script>	
	<script type="text/javascript" src="../../scriptaculous/functions.js"></script>
	<script type="text/javascript" src="../../scriptaculous/sorttable.js"></script>
	<!--<script type="text/javascript" src="/jquery-1.2.2.pack.js"></script>-->
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="../../scriptaculous/jssor.slider.min.js"></script>

 	<link rel="stylesheet" type="text/css" href="../../featuredcontentglider.css" />
    <script type="text/javascript" src="../../featuredcontentglider.js"></script>

	</head>
	<body>
	<div id="mast_head">
		<a href="https://www.hdfgroup.org/"><img src="../../images/hdf_logo.jpg" height="70" style="display:block; padding-left:10px;" align="left" alt="hdf images" /></a>
		<img src="../../images/logo_5.jpg" height="70" style="display:block;" align="right" alt="hdf images" />
	</div> 
				
	<div id="nav_wrapper">
		<div>
		<div id="section-">
			<ul id="nav">
				<li id="t-index"><a href="https://www.hdfgroup.org/">Home</a> </li>
				<li id="t-products"><a href="../../products/index.html">Products</a></li>
				<li id="t-services"><a href="../../services/index.html">Services</a></li>
				<li id="t-about"><a href="../../about/index.html">About Us</a></li>
				<li id="t-news"><a href="../../news/index.html">News</a> </li>
				<li id="t-blog"><a href="https://www.hdfgroup.org/blog">Blog</a></li>
				<li id="t-contact"><a href="../../about/contact.html">Contact Us</a></li> 
			</ul>
			<script type="text/javascript">
			
  (function() {
    var cx = '007250492606109219119:sb2eg2bgoyy';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>	
					<script type="text/javascript">
					    jQuery(document).ready(function ($) {
					        // var options = {
					        //     $ArrowNavigatorOptions: {
					        //         $Class: $JssorArrowNavigator$,
					        //         $ChanceToShow: 2
					        //     }
					        // };					    	


							var options = { 
											$AutoPlay: true, $SlideshowOptions: { $Class: $JssorSlideshowRunner$, $Transitions: [{ $Duration:5000, $Fade: true, $Opacity:2 }] } , 
											$ArrowNavigatorOptions: { 
												$Class: $JssorArrowNavigator$, 
												$ChanceToShow: 2
											}
										  };


					        var jssor_slider1 = new $JssorSlider$('slider1_container', options);
					    });
					</script>
									                  
			
		</div>
		</div>             
	</div>
				
<!--START: MAIN -->
<div id="wrapper" style="margin-top:-15px;"> 

<!--START: SIDE_BAR -->
<div id="side_bar">

<form method="get" action="h5augjpss_index.html" class="form" >
	<select onchange="window.open(this.options[this.selectedIndex].value,'_top')" name="" style="border:2px solid #c1c1c1;">
		<option value="" class="ql1">- - Quick Links - -</option>
		<option value="/HDF5/" class="ql">HDF5</option>
		<option value="/products/hdf4/" class="ql">HDF4</option>
		<option value="/tools/" class="ql">Tools</option>
		<option value="/projects/" class="ql">Projects</option>
		<option value="/downloads/" class="ql">Downloads</option>
		<option value="/documentation/" class="ql">Documentation</option>
	        <option value="/pubs/" class="ql">Publications</option>
		<option value="/about/" class="ql">Contact Us</option>
	</select>
</form>
<ul style="border:1px solid #c1c1c1; margin-top:25px;"> 

	<li style="background:url(../../images/menubg.png); padding:0px; padding-left:7px; color:#27343C; font-weight:500; text-align:left;">
	JPSS</li><li><a href="https://support.hdfgroup.org/projects/jpss/index.html">About</a></li><li><a href="../jpss/jpss_team_members.html">Team Members</a></li><li><a href="../jpss/jpss_software.html">Software</a></li><li><a href="../jpss/jpss_docs.html">Documentation</a></li><li><a href="jpss_downloads.html">Download</a></li></ul> 

</div>

<!--END: SIDE_BAR -->

<!--START: CONTENT -->
<div id="content">
<p><font color="red"><center><strong>This web site is no longer maintained (but will remain online).<br /> Please see The HDF Group's new <a href="https://portal.hdfgroup.org">Support Portal</a> for the latest information.</strong></center></font></p>
	<div class=bc><p style="color:orange; ";><a href="../../index.html" title="HOME">HOME</a> &gt; <a href="../index.html" title="PROJECTS">PROJECTS</a> &gt; <a href="index.html" title="JPSS">JPSS</a></p></div> 
<fieldset><h1>h5augjpss - the JPSS Augmentation Tool</h1></fieldset>

<p>JPSS data products will be distributed in the HDF5 file format. 
However, many applications that will use this data are 
&quot;netCDF-based&quot;. That is, many popular data analysis and 
visualization applications used by the climate and weather forecasting 
and research communities assume their data conforms to the netCDF data 
model. In addition, many programmers prefer to implement applications 
using a netCDF application programming interface (API).</p>

<p>Although the new version of the netCDF library, netCDF-4, uses HDF5 
as its storage layer, it cannot read arbitrary HDF5 files. Applications 
that use the netCDF-4 API cannot read HDF5 files that do not conform to 
the <a href="http://www.unidata.ucar.edu/software/netcdf/docs/netcdf/NetCDF_002d4-Format.html#NetCDF_002d4-Format">netCDF-4 
data model</a>. Since JPSS product files do not conform to the netCDF-4 
data model,  the netCDF-4 library cannot access them. This means, in 
turn, that applications that use the netCDF-4 library cannot access JPSS 
product files. Applications that require a netCDF-4 classic data model 
have additional restrictions for accessing arbitrary HDF5 files. </p>

<p>To further complicate matters, many data analysis and visualization 
tools need more than just a netCDF-4 accessible file. These tools rely 
on metadata such as dimension variables, geolocation information, and 
miscellaneous attributes to interpret and display the data. Since this 
metadata is not present in JPSS product files, additional modifications 
may be needed before data can be meaningfully analyzed and visualized. 
Fortunately much of this information is available in JPSS XML product 
and geolocation files. </p>

<p>The h5augjpss tool has options to make modifications to JPSS files 
that will aid in allowing some common &quot;netCDF-based&quot; 
applications to use or display them. Certain options can be used to hide 
unsupported HDF5 elements that block access to the files; these options 
should at least allow access with ncdump and other netCDF-4 tools. 
Other options can be used to incorporate information from the XML 
product and geolocation files. Additional metadata required for specific 
applications can then be added using 
<a href="h5edit_index.html">h5edit</a> or 
<a href="https://support.hdfgroup.org/products/java/hdf-java-html/hdfview/">HDFView</a>. </p>

<br />            
<h3>Example</h3>
<p>Attempting to use ncdump to view the contents of an unmodified JPSS file, 
SVI05_aqu_d20110314_t0827436_e0828535_b47134_c20110314115650161557_grav_dev.h5, 
downloaded from the GRAVITE server fails as expected and generates the 
following status message:</p>

<code>
./ncdump -h SVI05_aqu_d20110314_t0827436_e0828535_b47134_c20110314115650161557_grav_dev.h5: 
NetCDF: Bad type ID</code>

<p>The h5augjpss tool's option -o1 will modify the file to hide the HDF5 
elements that block ncdump from displaying the file. Other tools require 
one or more of the three other command options. In order to visualize the 
file with IDV, all four of the augmentation options are needed, which the 
tool runs by default if no options are specified. The command for this file is:
</p>
<code>
./h5augjpss D34862-03_NPOESS-CDFCB-X-Vol-III_D_VIIRS-I5-SDR-PP.xml SVI05_aqu_d20110314_t0827436_e0828535_b47134_c20110314115650161557_grav_dev.h5
</code>

<p>ncdump will now display the contents of the modified file, abbreviated 
here with ...:</p>

<PRE>
    netcdf SVI05_aqu_d20110314_t0827436_e0828535_b47134_c20110314115650161557_grav_dev {
        dimensions:
            AlongTrack = 1536 ;
            CrossTrack = 6400 ;
            ...
        variables:
            int AlongTrack(AlongTrack) ;
            ushort BrightnessTemperature(AlongTrack, CrossTrack) ;
                BrightnessTemperature:Description = "Calibrated Top of Atmosphere (TOA) 
                                                     Brightness Temperature for each VIIRS pixel" ;
                ...
            float BrightnessTemperatureFactors(Factors) ;
            ...
            float Height(AlongTrack, CrossTrack) ;
            float Latitude(AlongTrack, CrossTrack) ;
            float Longitude(AlongTrack, CrossTrack)                       
            ...
            ushort Radiance(AlongTrack, CrossTrack) ;
            ...
    }
                
</PRE>            

<p>Visualizing the data in the file's Radiance dataset correctly with 
IDV requires seven additional attributes: /Latitude/units, 
/Longitude/units, /Radiance/{coordinates, add_offset, scale_factor, 
valid_min, valid_max}. These can be added with 
<a href="https://support.hdfgroup.org/products/java/hdf-java-html/hdfview/">HDFView</a> or 
with an <a href="h5edit_index.html">h5edit</a> command such as:</p>

<code>
./h5edit -c "CREATE /Radiance/valid_min {H5T_STD_I32LE DATASPACE SIMPLE(1) DATA {0}};" SVI05_aqu_d20110314_t0827436_e0828535_b47134_c20110314115650161557_grav_dev.h5
</code>

<p>After this is done, IDV will display a visualization of the Radiance 
dataset in the file. See the picture below.</p>

<img src="../jpss/images/IDV-Radiance.jpg" alt="Radiance image" width="769" height="527"align="center" /><BR><BR>



<br />
<p>Use the menu items on the left or click on the links below to access 
documentation and source code for the tool.</p>
<ul>
    <li><a href="../jpss/jpss_docs.html">Documentation</a></li>
    <li><a href="jpss_downloads.html">Downloads</a></li>
</ul>
<br />

<i>
- - Last modified: 14 October 2016</i>
	   </div>
	   <!--END: CONTENT -->
<!--END: WRAPPER -->
<script src="../../scriptaculous/gatag.js" type="text/javascript"></script>

<!-- <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> -->
				
<!--
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-3782034-1");
pageTracker._trackPageview();
} catch(err) {}</script>
-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3782034-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>
 





 
