
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!-- If no var is set for $page_title on the top of each page than default title will be HDF Group -->

<title>
The HDF Group - Information, Support, and Software</title>
	<meta name="keywords" content="hdf, hdfeos, blog, hdf blog, hdf5 blog, hdf5, hdf4, hdf tools, hdf libraries, hdf viewer, hdf format, hdf file, hdf java, nafxcw.lib, phdf5, open source, hierarchical data format, ncsa, database, python hdf, mike folk, hdfview, hdf5 parallel" />
	<meta name="description" content="The HDF Group is a not-for-profit corporation with the mission of sustaining the HDF technologies and supporting HDF user communities worldwide with production-quality software and services." />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="expires" content="Wed, 26 Feb 2010 08:21:57 GMT" />
	<meta name="verify-v1" content="/m03HNmaDgGAcDe0PFtEVnXGtCkoeOocjr/Jwey2gdI=" />
	<link href="/css/layout.css" rel="stylesheet" type="text/css" media="screen, projection" />
	<link href="/css/print.css" rel="stylesheet" type="text/css" media="print" />
	<link rel="stylesheet" type="text/css" href="/css/js_style.css" />
	<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.2.0/prototype.js"></script>
	<!--<script type="text/javascript" src="/scriptaculous/lib/prototype.js"></script>-->
	<script type="text/javascript" src="/scriptaculous/src/effects.js"></script>
	<script type="text/javascript" src="/scriptaculous/validation.js"></script>
	<script type="text/javascript" src="/scriptaculous/animatedcollapse.js"></script>
	<script type="text/javascript" src="/scriptaculous/rollover.js"></script>	
	<script type="text/javascript" src="/scriptaculous/functions.js"></script>
	<script type="text/javascript" src="/scriptaculous/sorttable.js"></script>
	<!--<script type="text/javascript" src="/jquery-1.2.2.pack.js"></script>-->
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="/scriptaculous/jssor.slider.min.js"></script>

 	<link rel="stylesheet" type="text/css" href="/featuredcontentglider.css" />
    <script type="text/javascript" src="/featuredcontentglider.js"></script>

	</head>
	<body>
	<div id="mast_head">
		<a href="https://www.hdfgroup.org/"><img src="/images/hdf_logo.jpg" height="70" style="display:block; padding-left:10px;" align="left" alt="hdf images" /></a>
		<img src="/images/logo_5.jpg" height="70" style="display:block;" align="right" alt="hdf images" />
	</div> 
				
	<div id="nav_wrapper">
		<div>
		<div id="section-">
			<ul id="nav">
				<li id="t-index"><a href="https://www.hdfgroup.org/">Home</a> </li>
				<li id="t-products"><a href="/products/">Products</a></li>
				<li id="t-services"><a href="/services/">Services</a></li>
				<li id="t-about"><a href="/about/">About Us</a></li>
				<li id="t-news"><a href="/news/">News</a> </li>
				<li id="t-blog"><a href="https://www.hdfgroup.org/blog">Blog</a></li>
				<li id="t-contact"><a href="/about/contact.html">Contact Us</a></li> 
			</ul>
			<script type="text/javascript">
			
  (function() {
    var cx = '007250492606109219119:sb2eg2bgoyy';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>	
					<script type="text/javascript">
					    jQuery(document).ready(function ($) {
					        // var options = {
					        //     $ArrowNavigatorOptions: {
					        //         $Class: $JssorArrowNavigator$,
					        //         $ChanceToShow: 2
					        //     }
					        // };					    	


							var options = { 
											$AutoPlay: true, $SlideshowOptions: { $Class: $JssorSlideshowRunner$, $Transitions: [{ $Duration:5000, $Fade: true, $Opacity:2 }] } , 
											$ArrowNavigatorOptions: { 
												$Class: $JssorArrowNavigator$, 
												$ChanceToShow: 2
											}
										  };


					        var jssor_slider1 = new $JssorSlider$('slider1_container', options);
					    });
					</script>
									                  
			
		</div>
		</div>             
	</div>
				
<!--START: MAIN -->
<div id="wrapper" style="margin-top:-15px;"> 

<!--START: SIDE_BAR -->
<div id="side_bar">

<form method="get" action="" class="form" >
	<select onchange="window.open(this.options[this.selectedIndex].value,'_top')" name="" style="border:2px solid #c1c1c1;">
		<option value="" class="ql1">- - Quick Links - -</option>
		<option value="/HDF5/" class="ql">HDF5</option>
		<option value="/products/hdf4/" class="ql">HDF4</option>
		<option value="/tools/" class="ql">Tools</option>
		<option value="/projects/" class="ql">Projects</option>
		<option value="/downloads/" class="ql">Downloads</option>
		<option value="/documentation/" class="ql">Documentation</option>
	        <option value="/pubs/" class="ql">Publications</option>
		<option value="/about/" class="ql">Contact Us</option>
	</select>
</form>
<ul style="border:1px solid #c1c1c1; margin-top:25px;"> 

	<li style="background:url(/images/menubg.png); padding:0px; padding-left:7px; color:#27343C; font-weight:500; text-align:left;">
	LINKS</li><li><a href="https://www.hdfgroup.org/">Main Website</a></li><li><a  href="/HDF5/whatishdf5.html">What is HDF5?</a></li><li><a  href="/about/HDF5Brochure_2012.pdf">Online Brochure</a></li><li><a  href="/downloads/index.html">Downloads</a></li><li><a  href="/HDF5/doc/index.html">Documentation</a></li><li><a  href="/products/hdf5_tools/">Software using HDF5</a></li><li><a  href="/HDF5/users5.html">HDF5 Users</a></li><li><a  href="/HDF5/hdf5-files.html">Sample HDF5 Files</a></li><li><a  href="/HDF5/acknowledge5.html">Acknowledgments</a></li><li><a  href="/products/licenses.html">Licenses</a></li></ul> 

</div>

<!--END: SIDE_BAR -->

<!--START: CONTENT -->
<div id="content">
<p><font color="red"><center><strong>This web site is no longer maintained (but will remain online).<br /> Please see The HDF Group's new <a href="https://portal.hdfgroup.org">Support Portal</a> for the latest information.</strong></center></font></p>
	<div class=bc><p style="color:orange; ";><a href="/" title="HOME">HOME</a> &gt; <a href="/HDF5/" title="HDF5">HDF5</a> &gt; <a href="/HDF5/Tutor/" title="TUTOR">TUTOR</a></p></div>
<fieldset><h1>HDF5 Tutorial: &nbsp; Learning The Basics<br />Creating an HDF5 File</h1></fieldset>


<h2>Contents:</h2>
<ul class="ul">
    <LI><p><A HREF="#def">What is an HDF5 file</A>?</p></li>
    <LI><p>Programming Example (C, Fortran, Java):</p> </li>
    <ul class="ul">
      <LI> <A HREF="#desc">Description</A> </li>
      <LI> <A HREF="#fc">File Contents</A></li>
    </UL>
</UL>

<hr />

<a name="def"> </a>
<H2>What is an HDF5 file?</h2>
<P>
An HDF5 file is a binary file containing scientific data and supporting
metadata.</p> 
<P>
To create an HDF5 file, an application must specify not only a file name,
but a file access mode, a file creation property list, and a file access 
property list.  These terms are described below:
<P>
<ul class="ul">
  <LI><B> File access mode:</B><BR>
    When creating a file, the file access mode specifies the action to 
    take if the file already exists:
    <ul class="ul">
    <LI><code>H5F_ACC_TRUNC</code> specifies that if the file already exists,
      the current contents will be deleted so that the application can rewrite 
      the file with new data.
    <LI><code>H5F_ACC_EXCL</code> specifies that the open will fail if 
      the file already exists.
      If the file does not already exist, the file access parameter is 
      ignored.</li>
    </ul>
    <p>In either case, the application has both read and write access to
      the successfully created file.</p>  
<P>
    Note that there are two different access modes for opening existing files:
    <ul class="ul">
    <LI><code>H5F_ACC_RDONLY</code> specifies that the application has 
      read access but will not be allowed to write any data.
    <LI><code>H5F_ACC_RDWR</code> specifies that the application has 
      read and write access.
    </UL> 
<P>
  <LI><B> File creation property list:</B><BR>
    The file creation property list is used to control the file metadata.
    File metadata contains information about the size of the user-block*, the
    size of various file data structures used by the HDF5 library, etc.
    In this tutorial, the default file creation property list,
    <code>H5P_DEFAULT</code>, is used.
<P>
    *The user-block is a fixed-length block of data located at the beginning
    of the file which is ignored by the HDF5 library.  
    The user-block may be used to store
    any data or information found to be useful to applications.
<P>
  <LI><B> File access property list:</B><BR>
    The file access property list is used to control different methods of
    performing I/O on files.   It also can be used to control how a file
    is closed (whether or not to delay the actual file close until all
    objects in a file are closed). 
    The default file access property list, <code>H5P_DEFAULT</code>, 
    is used in this tutorial.
<P>
</UL>
Please refer to the <cite>H5F</cite> section of the 
<cite>HDF5 Users' Guide</cite> and <cite>Reference Manual</cite> for detailed information regarding file access/creation property lists and access modes.
<P>
The steps to create and close an HDF5 file are as follows:
<ul class="ul">
  <LI>1. Specify the file creation and access property lists, if necessary.
  </li>
  <LI>2. Create the file.</li>
  <LI>3. Close the file, and if necessary, close the property lists.<li>
</ul>
<p>
<H2>Programming Example</H2>
<A NAME="desc"> </a>
<H3><U>Description</U></H3>      
The following example code demonstrates how to create and close an HDF5 file. 

<p>C:</p>
<pre>
   #include "hdf5.h"
   #define FILE "file.h5"

   int main() {

      hid_t       file_id;   /* file identifier */
      herr_t      status;

      /* Create a new file using default properties. */
      file_id = H5Fcreate(FILE, H5F_ACC_TRUNC, H5P_DEFAULT, H5P_DEFAULT);

      /* Terminate access to the file. */
      status = H5Fclose(file_id); 
   }

</pre>


<p>Fortran 90:</p>
<pre>
  PROGRAM FILEEXAMPLE

     USE HDF5 ! This module contains all necessary modules 
        
     IMPLICIT NONE

     CHARACTER(LEN=8), PARAMETER :: filename = "filef.h5" ! File name
     INTEGER(HID_T) :: file_id                            ! File identifier
 
     INTEGER     ::   error  ! Error flag
     
!
!    Initialize FORTRAN interface.
!
     CALL h5open_f (error)
     !
     ! Create a new file using default properties.
     ! 
     CALL h5fcreate_f(filename, H5F_ACC_TRUNC_F, file_id, error)

     !
     ! Terminate access to the file.
     !
     CALL h5fclose_f(file_id, error)
!
!    Close FORTRAN interface.
!
     CALL h5close_f(error)
     END PROGRAM FILEEXAMPLE

</pre>

<p>
See <a href="/HDF5/examples/intro.html">HDF5 Introductory Examples</a> 
for the examples used in the Learning the Basics tutorial.
</p>

<p>
For details on compiling an HDF5 application: 
[ 
<A HREF="./compile.html">Compile Information</A> 
]
</p>

<A name="rem"> </a>
<H3><U>Remarks</U></H3>
<ul class="ul">
<LI><p><B>In C:</B>
   The include file <code>hdf5.h</code> contains definitions and declarations 
   and must be included in any program that uses the HDF5 library.
   </p>
   <p>
   <B>In FORTRAN:</B>
   The module <code>HDF5</code> contains definitions and declarations 
   and must be used in any program that uses the HDF5 library.  Also
   note that <a href="/HDF5/doc/RM/RM_H5.html#Library-Open">h5open_f</a>
   MUST be called at the beginning of an HDF5 Fortran application (prior to any 
HDF5 calls) to initialize the library and variables. The 
   <a href="/HDF5/doc/RM/RM_H5.html#Library-Close">h5close_f</a> 
call MUST be at the end of the HDF5 Fortran application.</p>

<P>
<LI><a href="/HDF5/doc/RM/RM_H5F.html#File-Create">H5Fcreate / h5fcreate_f:</a> Creates an HDF5 file and returns the file identifier.

<ul class="ul">
<p>
For Fortran, the file creation property list and file access 
property list are optional. They can be omitted if the default values are 
to be used.</p>
<p>The root group is automatically created when a file is created.
   Every file has a root group and the path name of the root group is 
   always <code>/</code>.</p>
</ul>

<li><p><a href="/HDF5/doc/RM/RM_H5F.html#File-Close">H5Fclose / h5fclose_f</a>: Terminates access to an HDF5 file. 
<ul class="ul">
    When an HDF5 file is no longer accessed by a program, 
     <a href="/HDF5/doc/RM/RM_H5F.html#File-Close">H5Fclose / 
h5fclose_f</a>
     must be called to release the resources used by the file. This call 
     is mandatory.
    </p>
    <p>Note that if <a href="/HDF5/doc/RM/RM_H5F.html#File-Close">H5Fclose
     / h5fclose_f</a> is called for a file, but one or more objects within 
    the file remain open,
    those objects will remain accessible until they are individually
    closed.  This can cause access problems for other users, if objects
    were inadvertently left open.  A File Access property controls
    how the file is closed. 
</p>
</ul>
</ul>
<A NAME="fc"> </a>
<H3><U>File Contents</U></H3>
The HDF Group has developed tools for examining the contents of HDF5 files. 
The tool used throughout the HDF5 tutorial is the HDF5 dumper, <code>h5dump</code>, 
which displays the file contents in human-readable form.  
The output of <code>h5dump</code> is an ASCII display formatted according 
to the HDF5 DDL grammar.
This grammar is defined, using Backus-Naur Form, in the 
DDL in BNF for HDF5</a>.
<p>
To view the HDF5 file contents, simply type: 
<PRE>
   <B>h5dump &lt;filename&gt</B> 
</PRE>

Figure 4.1 describes the file contents of <code>file.h5</code> (<code>filef.h5</code>)
using a directed graph.
<!--
The directed graphs in this tutorial use an oval to represent an HDF5 group
and a rectangle to represent an HDF5 dataset (none in this example). 

Arrows indicate the inclusion direction of the contents (none in this example).
-->

<P>
<B>Fig. 4.1</B> &nbsp;  <I>Contents of <code>file.h5</code> (<code>filef.h5</code>)</I>
<PRE>
<!--
<IMG src="fileh5.jpg" width="205" height="208"></PRE> -->
<IMG src="image/img001.gif"></PRE>

Figure 4.2 is the text description of <code>file.h5</code>, as generated by 
<code>h5dump</code>. The HDF5 file called <code>file.h5</code> contains 
a group called <code>/</code>, or the <I>root group</I>.
(The file called <code>filef.h5</code>, 
created by the FORTRAN version of the example, has the same output except
that the filename shown is <code>filef.h5</code>.)
<P>
<B> Fig. 4.2</B> &nbsp; <I><code>file.h5</code> in DDL</I>
<PRE>
         HDF5 "file.h5" {
         GROUP "/" {
         }
         }

</PRE>

<A NAME="ddl"></a>

<h3><U>File Definition in DDL</U></H3>

Figure 4.3 is the simplified DDL file definition for creating an HDF5 file. 
For simplicity, a simplified DDL is used in this tutorial. A complete and 
more rigorous DDL can be found in the
<cite>DDL in BNF for HDF5</cite>, a section of the 
<cite>HDF5 User's Guide</cite>.  
<P>
<B> Fig. 4.3</B> &nbsp; <I>HDF5 File Definition</I>
<P>
     The following symbol definitions are used in the DDL:
<PRE>
        ::=               defined as
        &lt;tname&gt           a token with the name <I>tname</I>
        &lt;a&gt | &lt;b&gt         one of &lt;a&gt or &lt;b&gt
        &lt;a&gt;*              zero or more occurrences of &lt;a&gt
</PRE>
</p>
<p>
     The simplified DDL for file definition is as follows:
<PRE>
        &lt;file&gt ::= HDF5 "&lt;file_name&gt;" { &lt;root_group&gt }

        &lt;root_group&gt ::= GROUP "/" { &lt;group_attribute&gt* 
                                        &lt;group_member&gt;* }

        &lt;group_attribute&gt ::= &lt;attribute&gt

        &lt;group_member&gt ::= &lt;group&gt | &lt;dataset&gt
</PRE>
</p>


<hr>
<i>
- - Last modified: 21 December 2016</i>
	   </div>
	   <!--END: CONTENT -->
<!--END: WRAPPER -->
<script src="/scriptaculous/gatag.js" type="text/javascript"></script>

<!-- <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> -->
				
<!--
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-3782034-1");
pageTracker._trackPageview();
} catch(err) {}</script>
-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3782034-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>
