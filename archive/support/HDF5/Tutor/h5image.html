
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!-- If no var is set for $page_title on the top of each page than default title will be HDF Group -->

<title>
The HDF Group - Information, Support, and Software</title>
	<meta name="keywords" content="hdf, hdfeos, blog, hdf blog, hdf5 blog, hdf5, hdf4, hdf tools, hdf libraries, hdf viewer, hdf format, hdf file, hdf java, nafxcw.lib, phdf5, open source, hierarchical data format, ncsa, database, python hdf, mike folk, hdfview, hdf5 parallel" />
	<meta name="description" content="The HDF Group is a not-for-profit corporation with the mission of sustaining the HDF technologies and supporting HDF user communities worldwide with production-quality software and services." />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="expires" content="Wed, 26 Feb 2010 08:21:57 GMT" />
	<meta name="verify-v1" content="/m03HNmaDgGAcDe0PFtEVnXGtCkoeOocjr/Jwey2gdI=" />
	<link href="../../css/layout.css" rel="stylesheet" type="text/css" media="screen, projection" />
	<link href="../../css/print.css" rel="stylesheet" type="text/css" media="print" />
	<link rel="stylesheet" type="text/css" href="../../css/js_style.css" />
	<link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon" />
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.2.0/prototype.js"></script>
	<!--<script type="text/javascript" src="/scriptaculous/lib/prototype.js"></script>-->
	<script type="text/javascript" src="../../scriptaculous/src/effects.js"></script>
	<script type="text/javascript" src="../../scriptaculous/validation.js"></script>
	<script type="text/javascript" src="../../scriptaculous/animatedcollapse.js"></script>
	<script type="text/javascript" src="../../scriptaculous/rollover.js"></script>	
	<script type="text/javascript" src="../../scriptaculous/functions.js"></script>
	<script type="text/javascript" src="../../scriptaculous/sorttable.js"></script>
	<!--<script type="text/javascript" src="/jquery-1.2.2.pack.js"></script>-->
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="../../scriptaculous/jssor.slider.min.js"></script>

 	<link rel="stylesheet" type="text/css" href="../../featuredcontentglider.css" />
    <script type="text/javascript" src="../../featuredcontentglider.js"></script>

	</head>
	<body>
	<div id="mast_head">
		<a href="https://www.hdfgroup.org/"><img src="../../images/hdf_logo.jpg" height="70" style="display:block; padding-left:10px;" align="left" alt="hdf images" /></a>
		<img src="../../images/logo_5.jpg" height="70" style="display:block;" align="right" alt="hdf images" />
	</div> 
				
	<div id="nav_wrapper">
		<div>
		<div id="section-">
			<ul id="nav">
				<li id="t-index"><a href="https://www.hdfgroup.org/">Home</a> </li>
				<li id="t-products"><a href="../../products/index.html">Products</a></li>
				<li id="t-services"><a href="../../services/index.html">Services</a></li>
				<li id="t-about"><a href="../../about/index.html">About Us</a></li>
				<li id="t-news"><a href="../../news/index.html">News</a> </li>
				<li id="t-blog"><a href="https://www.hdfgroup.org/blog">Blog</a></li>
				<li id="t-contact"><a href="../../about/contact.html">Contact Us</a></li> 
			</ul>
			<script type="text/javascript">
			
  (function() {
    var cx = '007250492606109219119:sb2eg2bgoyy';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>	
					<script type="text/javascript">
					    jQuery(document).ready(function ($) {
					        // var options = {
					        //     $ArrowNavigatorOptions: {
					        //         $Class: $JssorArrowNavigator$,
					        //         $ChanceToShow: 2
					        //     }
					        // };					    	


							var options = { 
											$AutoPlay: true, $SlideshowOptions: { $Class: $JssorSlideshowRunner$, $Transitions: [{ $Duration:5000, $Fade: true, $Opacity:2 }] } , 
											$ArrowNavigatorOptions: { 
												$Class: $JssorArrowNavigator$, 
												$ChanceToShow: 2
											}
										  };


					        var jssor_slider1 = new $JssorSlider$('slider1_container', options);
					    });
					</script>
									                  
			
		</div>
		</div>             
	</div>
				
<!--START: MAIN -->
<div id="wrapper" style="margin-top:-15px;"> 

<!--START: SIDE_BAR -->
<div id="side_bar">

<form method="get" action="h5image.html" class="form" >
	<select onchange="window.open(this.options[this.selectedIndex].value,'_top')" name="" style="border:2px solid #c1c1c1;">
		<option value="" class="ql1">- - Quick Links - -</option>
		<option value="/HDF5/" class="ql">HDF5</option>
		<option value="/products/hdf4/" class="ql">HDF4</option>
		<option value="/tools/" class="ql">Tools</option>
		<option value="/projects/" class="ql">Projects</option>
		<option value="/downloads/" class="ql">Downloads</option>
		<option value="/documentation/" class="ql">Documentation</option>
	        <option value="/pubs/" class="ql">Publications</option>
		<option value="/about/" class="ql">Contact Us</option>
	</select>
</form>
<ul style="border:1px solid #c1c1c1; margin-top:25px;"> 

	<li style="background:url(../../images/menubg.png); padding:0px; padding-left:7px; color:#27343C; font-weight:500; text-align:left;">
	LINKS</li><li><a href="https://www.hdfgroup.org/">Main Website</a></li><li><a  href="../whatishdf5.html">What is HDF5?</a></li><li><a  href="../../about/HDF5Brochure_2012.pdf">Online Brochure</a></li><li><a  href="../../downloads/index.html">Downloads</a></li><li><a  href="../doc/index.html">Documentation</a></li><li><a  href="../../products/hdf5_tools/index.html">Software using HDF5</a></li><li><a  href="../users5.html">HDF5 Users</a></li><li><a  href="../hdf5-files.html">Sample HDF5 Files</a></li><li><a  href="../acknowledge5.html">Acknowledgments</a></li><li><a  href="../../products/licenses.html">Licenses</a></li></ul> 

</div>

<!--END: SIDE_BAR -->

<!--START: CONTENT -->
<div id="content">
<p><font color="red"><center><strong>This web site is no longer maintained (but will remain online).<br /> Please see The HDF Group's new <a href="https://portal.hdfgroup.org">Support Portal</a> for the latest information.</strong></center></font></p>
	<div class=bc><p style="color:orange; ";><a href="../../index.html" title="HOME">HOME</a> &gt; <a href="../../products/hdf5/index.html" title="HDF5">HDF5</a> &gt; <a href="../Tutor.html" title="TUTOR">TUTOR</a></p></div>
<fieldset><h1>HDF5 Tutorial: HDF5 Image (H5IM)</h1></fieldset>

 <p>The HDF5 Image API defines a standard storage for  HDF5 datasets that are
 intended to be interpreted as images. This version of the API is primarily
 concerned with two dimensional raster data, which
 are indexed 8 bit images (an image in which each pixel stored is an index 
into a table palette), and 24 bit true color images (an image where
 the pixel storage contains 3 color planes, red , green , blue, in this case) </p>

<UL>
    <LI><A HREF="h5image.html#index">Writing Indexed Images and Palettes</A>
    <LI><A HREF="h5image.html#truecolor">Writing True Color Images and Reading Images</A>
    <LI><A HREF="h5image.html#palette">Palettes</A>
</UL>

<hr>
<a name="index"> </a>
<h2>Writing Indexed Images and Palettes </h2>

 <p>To write an HDF5 indexed image the <code>H5IMmake_image_8bit</code>
 function is used: 

<PRE>
   H5IMmake_image_8bit (file_id, "Image1", width, height, data);
</PRE>
</p>

<p>This function accepts a parameter <code>file_id</code>, obtained from the
basic HDF5 library function <code>H5Fcreate</code>, a dataset name, the width
and height of the dataset, and the data. This function is most useful when
associated with a <a href="h5image.html#palette">palette</a>.&nbsp; </p>

<p>The following table represents a palette with 9 entries: </p>

 <table border="1" width="63%">
  <tr>
    <td width="12%">Index</td>
    <td width="23%">RGB components</td>
    <td width="49%">Color representation</td>
  </tr>
  <tr>
    <td width="12%">0</td>
    <td width="23%">0, 0, 168</td>
    <td width="49%" rowspan="9" valign="top"><img border="0" src="image/hdf5_hl/image.2.gif" align="left" width="49" height="49"></td>
  </tr>
  <tr>
    <td width="12%">1</td>
    <td width="23%">0, 0, 252</td>
  </tr>
  <tr>
    <td width="12%">2</td>
    <td width="23%">0, 168, 252</td>
  </tr>
  <tr>
    <td width="12%">3</td>
    <td width="23%">84, 252, 252</td>
  </tr>
  <tr>
    <td width="12%">4</td>
    <td width="23%">168, 252, 168</td>
  </tr>
  <tr>
    <td width="12%">5</td>
    <td width="23%">0, 252, 168</td>
  </tr>
  <tr>
    <td width="12%">6</td>
    <td width="23%">252, 252, 84</td>
  </tr>
  <tr>
    <td width="12%">7</td>
    <td width="23%">252, 168, 0</td>
  </tr>
  <tr>
    <td width="12%">8</td>
    <td width="23%">252, 0, 0</td>
  </tr>
 </table>

<p>&nbsp;To create an HDF5 palette the <code>H5IMmake_palette</code>
function is used: 
<PRE>
   H5IMmake_palette (file_id, "Palette1", pal_dims, pal);
</PRE>
</p>

<p>This function accepts a parameter <code>file_id</code>, obtained from the
basic HDF5 library function <code>H5Fcreate</code>, a palette name, the
dimensions of the palette, and the palette data. To associate a palette to any given image the function <code>H5IMlink_palette</code> is used: 
<PRE>
  H5IMlink_palette (file_id, "Image1", "Palette1");
</PRE>
</p>

<p>This call associates the previously written &quot;Image1&quot; with the
palette &quot;Palette1&quot;. </p>

 <h4>PROGRAMMING EXAMPLE</h4>
 <p>The following example demonstrates how to create an indexed HDF5 image with
 an associated palette.
 <ul>
  [ <a HREF="https://support.hdfgroup.org/ftp/HDF5/current/src/unpacked/hl/examples/ex_image1.c">C Example</a> ] -- <code>ex_image1.c</code><br>
 </ul>

<p><img border="0" src="image/hdf5_hl/image.1.gif" width="255" height="100"> </p>
<HR>
<a name="truecolor"> </a>
<h2>Writing True Color Images and Reading Images </h2>

 <p>To write an HDF5 true color image  the <code>H5IMmake_image_24bit</code>
 function is used: 

<PRE>
   H5IMmake_image_24bit (file_id, "Image1", width, height, interlace, data);
</PRE>
</p>

<p>This function accepts a parameter <code>file_id</code>, obtained from the
basic HDF5 library function <code>H5Fcreate</code>, a dataset name, the width
and height of the dataset, a string with the interlace mode and the data. </p>


<p>To read an HDF5 image the <code>H5IMread_image</code> function is used: 
<PRE>
   H5IMread_image (file_id, "Image1", data);
</PRE>
</p>

 <p>This function accepts a parameter <code>file_id</code>, obtained from the
basic HDF5 library function <code>H5Fopen</code>, a dataset name, and the data. To obtain information about the image (for example to know the size of the
buffer to allocate for the image data), the <code>H5IMget_image_info</code> 
function is used:
<PRE>
   H5IMget_image_info (file_id, "Image1", &amp;width, &amp;height, 
                             &amp;planes, interlace, &amp;npals);
</PRE>
</p>

<p>This function accepts a parameter <code>file_id</code>, obtained from the
basic HDF5 library function <code>H5Fopen</code>, a dataset name, and returns the width
and height of the dataset, the number of color planes, the interlace mode, and the
number of palettes. </p>

<a name="progex"> </a>
 <h4>PROGRAMMING EXAMPLE</h4>

 <p>The following example demonstrates how to create indexed and true color HDF5 images.
The example uses realistic image data read from ASCII files. The corresponding HDF5 file that is generated is also
 referenced here. You can use an HDF5 file browser that handles HDF5 images to
 access this file by clicking on the link below. </p>

 <ul>
  [ <a HREF="https://support.hdfgroup.org/ftp/HDF5/current/src/unpacked/hl/examples/ex_image2.c">C Example</a> ] -- <code>ex_image2.c</code><br>
  [ <a HREF="https://support.hdfgroup.org/ftp/HDF5/examples/highlevel/files/ex_image2.h5">HDF5 file</a> ]
  -- <code>ex_image2.h5</code>
 </ul>

<table border="0" width="100%" >
  <tr>
    <td width="50%"><a href="image/hdf5_hl/pic1.gif"><img border="0" src="image/hdf5_hl/pic1_small.gif" width="150" height="200"></a>
      <p>8 bit raster image. <a href="image/hdf5_hl/pic1.gif"><BR>Click</a> for a full size image</td>
    <td width="50%"><img border="0" src="image/hdf5_hl/pic2.gif" width="227" height="149">
      <p>24 bit raster image.</td>
  </tr>
</table>

 <h4>PROGRAMMING EXAMPLE</h4>

 <p>The following C program provides an examples of how to generate HDF5&nbsp;
image data from floating point data.&nbsp; In the example, real life
topographic data (from the North American hemisphere) is used. In the dataset sea values
are represented as negative numbers and land values are represented as positive
numbers. The example generates 3 HDF5 images, one that generates an image from
all the values, another that generates an image from the land values and another
that generates an image from the sea values.&nbsp; </p>

 <ul>
  [ <a HREF="https://support.hdfgroup.org/ftp/HDF5/examples/highlevel/ex_image3.c">C Example</a> ] -- <code>ex_image3.c</code><br>
  [ <a HREF="https://support.hdfgroup.org/ftp/HDF5/examples/highlevel/files/ex_image3.h5">HDF5 file</a> ]
  -- <code>ex_image3.h5</code>
 </ul>

<p>The images obtained are:</p>
<table border="0" width="100%" >
  <tr>
    <td width="50%"><a href="image/hdf5_hl/make_image1.gif"><img border="0" src="image/hdf5_hl/make_image1s.gif" width="253" height="217"></a>
      <p>Processing all the data. <a href="image/hdf5_hl/make_image1.gif"><BR>Click</a> for a full size image</td>
    <td width="50%"><a href="image/hdf5_hl/make_image2s.gif"><img border="0" src="image/hdf5_hl/make_image2s.gif" width="253" height="217"></a>
      <p>Processing the land data. <a href="image/hdf5_hl/make_image2.gif"><BR>Click</a> for a full size image</td>
    <td width="50%"><a href="image/hdf5_hl/make_image3.gif"><img border="0" src="image/hdf5_hl/make_image3s.gif" width="253" height="217"></a>
      <p>Processing the sea data. <a href="image/hdf5_hl/make_image3.gif"><BR>Click</a> for a full size image</td>
  </tr>
</table>

<hr>
<a name="palette"> </a>
<H2>Palettes</h2>

<p>A palette is the means by which color is applied to an image and is also
referred to as a color lookup table. It is a table in which every row contains
the numerical representation of a particular color. In the example of an 8 bit
standard RGB color model palette, this numerical representation of a color is
presented as a triplet specifying the intensity of red, green, and blue
components that make up each color. </p>

<p>Like an HDF5 image, an HDF5 palette is an HDF5 dataset written with standard
attributes conforming to the <a href="../doc/ADGuide/ImageSpec.html">HDF5
Image and Palette Specification</a>. The programming model is similar to the
HDF5 image model. To create an HDF5 palette the <code>H5IMmake_palette</code>
function is used: 
<PRE>
   H5IMmake_palette (file_id, "Palette1", pal_dims, pal);
</PRE>
</p>

<p>This function accepts a parameter <code>file_id</code>, obtained from the
basic HDF5 library function <code>H5Fcreate</code>, a palette name, the
dimensions of the palette, and the palette data. To associate a palette to any given image use the function <code>H5IMlink_palette</code>: 
<PRE>
   H5IMlink_palette (file_id, "Image1", "Palette1");
</PRE>
</p>

<p>To read an HDF5 palette use the <code>H5IMread_image</code> function: 
<PRE>
   H5IMget_palette( file_id, "Image1", pal_number, data );
</PRE>
</p>

<p>This function accepts a parameter <code>file_id</code>, obtained from the
basic HDF5 library function <code>H5Fopen</code>, a dataset name, a palette
 index number, and the data. </p>

<B><I>Deleting Images and Palettes</I></B>
<p>Images and palettes are HDF5 datasets, and can be deleted from an HDF5
file using the basic HDF5 API functions. Please refer to this API for further
information.</p>

 


<hr />
<i>
- - Last modified: 31 January 2017</i>
	   </div>
	   <!--END: CONTENT -->
<!--END: WRAPPER -->
<script src="../../scriptaculous/gatag.js" type="text/javascript"></script>

<!-- <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> -->
				
<!--
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-3782034-1");
pageTracker._trackPageview();
} catch(err) {}</script>
-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3782034-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>


