
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!-- If no var is set for $page_title on the top of each page than default title will be HDF Group -->

<title>
The HDF Group - Information, Support, and Software</title>
	<meta name="keywords" content="hdf, hdfeos, blog, hdf blog, hdf5 blog, hdf5, hdf4, hdf tools, hdf libraries, hdf viewer, hdf format, hdf file, hdf java, nafxcw.lib, phdf5, open source, hierarchical data format, ncsa, database, python hdf, mike folk, hdfview, hdf5 parallel" />
	<meta name="description" content="The HDF Group is a not-for-profit corporation with the mission of sustaining the HDF technologies and supporting HDF user communities worldwide with production-quality software and services." />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="expires" content="Wed, 26 Feb 2010 08:21:57 GMT" />
	<meta name="verify-v1" content="/m03HNmaDgGAcDe0PFtEVnXGtCkoeOocjr/Jwey2gdI=" />
	<link href="/css/layout.css" rel="stylesheet" type="text/css" media="screen, projection" />
	<link href="/css/print.css" rel="stylesheet" type="text/css" media="print" />
	<link rel="stylesheet" type="text/css" href="/css/js_style.css" />
	<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.2.0/prototype.js"></script>
	<!--<script type="text/javascript" src="/scriptaculous/lib/prototype.js"></script>-->
	<script type="text/javascript" src="/scriptaculous/src/effects.js"></script>
	<script type="text/javascript" src="/scriptaculous/validation.js"></script>
	<script type="text/javascript" src="/scriptaculous/animatedcollapse.js"></script>
	<script type="text/javascript" src="/scriptaculous/rollover.js"></script>	
	<script type="text/javascript" src="/scriptaculous/functions.js"></script>
	<script type="text/javascript" src="/scriptaculous/sorttable.js"></script>
	<!--<script type="text/javascript" src="/jquery-1.2.2.pack.js"></script>-->
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="/scriptaculous/jssor.slider.min.js"></script>

 	<link rel="stylesheet" type="text/css" href="/featuredcontentglider.css" />
    <script type="text/javascript" src="/featuredcontentglider.js"></script>

	</head>
	<body>
	<div id="mast_head">
		<a href="https://www.hdfgroup.org/"><img src="/images/hdf_logo.jpg" height="70" style="display:block; padding-left:10px;" align="left" alt="hdf images" /></a>
		<img src="/images/logo_5.jpg" height="70" style="display:block;" align="right" alt="hdf images" />
	</div> 
				
	<div id="nav_wrapper">
		<div>
		<div id="section-">
			<ul id="nav">
				<li id="t-index"><a href="https://www.hdfgroup.org/">Home</a> </li>
				<li id="t-products"><a href="/products/">Products</a></li>
				<li id="t-services"><a href="/services/">Services</a></li>
				<li id="t-about"><a href="/about/">About Us</a></li>
				<li id="t-news"><a href="/news/">News</a> </li>
				<li id="t-blog"><a href="https://www.hdfgroup.org/blog">Blog</a></li>
				<li id="t-contact"><a href="/about/contact.html">Contact Us</a></li> 
			</ul>
			<script type="text/javascript">
			
  (function() {
    var cx = '007250492606109219119:sb2eg2bgoyy';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>	
					<script type="text/javascript">
					    jQuery(document).ready(function ($) {
					        // var options = {
					        //     $ArrowNavigatorOptions: {
					        //         $Class: $JssorArrowNavigator$,
					        //         $ChanceToShow: 2
					        //     }
					        // };					    	


							var options = { 
											$AutoPlay: true, $SlideshowOptions: { $Class: $JssorSlideshowRunner$, $Transitions: [{ $Duration:5000, $Fade: true, $Opacity:2 }] } , 
											$ArrowNavigatorOptions: { 
												$Class: $JssorArrowNavigator$, 
												$ChanceToShow: 2
											}
										  };


					        var jssor_slider1 = new $JssorSlider$('slider1_container', options);
					    });
					</script>
									                  
			
		</div>
		</div>             
	</div>
				
<!--START: MAIN -->
<div id="wrapper" style="margin-top:-15px;"> 

<!--START: SIDE_BAR -->
<div id="side_bar">

<form method="get" action="" class="form" >
	<select onchange="window.open(this.options[this.selectedIndex].value,'_top')" name="" style="border:2px solid #c1c1c1;">
		<option value="" class="ql1">- - Quick Links - -</option>
		<option value="/HDF5/" class="ql">HDF5</option>
		<option value="/products/hdf4/" class="ql">HDF4</option>
		<option value="/tools/" class="ql">Tools</option>
		<option value="/projects/" class="ql">Projects</option>
		<option value="/downloads/" class="ql">Downloads</option>
		<option value="/documentation/" class="ql">Documentation</option>
	        <option value="/pubs/" class="ql">Publications</option>
		<option value="/about/" class="ql">Contact Us</option>
	</select>
</form>
<ul style="border:1px solid #c1c1c1; margin-top:25px;"> 

	<li style="background:url(/images/menubg.png); padding:0px; padding-left:7px; color:#27343C; font-weight:500; text-align:left;">
	LINKS</li><li><a href="https://www.hdfgroup.org/">Main Website</a></li><li><a  href="/HDF5/whatishdf5.html">What is HDF5?</a></li><li><a  href="/about/HDF5Brochure_2012.pdf">Online Brochure</a></li><li><a  href="/downloads/index.html">Downloads</a></li><li><a  href="/HDF5/doc/index.html">Documentation</a></li><li><a  href="/products/hdf5_tools/">Software using HDF5</a></li><li><a  href="/HDF5/users5.html">HDF5 Users</a></li><li><a  href="/HDF5/hdf5-files.html">Sample HDF5 Files</a></li><li><a  href="/HDF5/acknowledge5.html">Acknowledgments</a></li><li><a  href="/products/licenses.html">Licenses</a></li></ul> 

</div>

<!--END: SIDE_BAR -->

<!--START: CONTENT -->
<div id="content">
<p><font color="red"><center><strong>This web site is no longer maintained (but will remain online).<br /> Please see The HDF Group's new <a href="https://portal.hdfgroup.org">Support Portal</a> for the latest information.</strong></center></font></p>
	<div class=bc><p style="color:orange; ";><a href="/" title="HOME">HOME</a> &gt; <a href="/HDF5/" title="HDF5">HDF5</a> &gt; <a href="/HDF5/Tutor/" title="TUTOR">TUTOR</a></p></div>
<fieldset><h1>HDF5 Tutorial: &nbsp; Learning The Basics<br />Creating
an Attribute</h1></fieldset>


<H2>Contents:</H2>
<ul class="ul">
<LI> <p><A HREF="#def">What is an Attribute ?</A></p></li>
<LI> <p><A HREF="#hl">High Level APIs</A></p></li>
<LI> <p>Programming Example (C, Fortran, Java, C++, Py):</p> 
<ul class="ul">
<LI> <A HREF="#desc">Description</A> </li>
<LI> <A HREF="#rem">Remarks</A> </li>
<LI> <A HREF="#fc">File Contents</A></li>
<LI> <A HREF="#ddl">Attribute Definition in DDL</A></li>
</li>
</UL>
</UL>
<HR>
<A NAME="def"> </a>
<H2>What is an Attribute?</h2>
<P>
Attributes are small datasets that can be used to describe the nature and/or
the intended usage of the object they are attached to. In this section, we
show how to create, read, and write an attribute.
</p>

<P>
<H3>Creating an attribute</H3>
<P>
Creating an attribute is similar to creating a dataset. To create an
attribute, the application must specify the object which the attribute is
attached to, the datatype and dataspace of the attribute data,
and the attribute creation property list.
<P>
The steps to create an attribute are as follows:
<ul class="ul">
<LI>1. Obtain the object identifier that the attribute is to be attached to.</li>
<LI>2. Define the characteristics of the attribute and specify the 
 attribute creation property list.</li>
<ul class="ul">
<LI>- Define the datatype.</li>
<LI>- Define the dataspace.</li>
<LI>- Specify the attribute creation property list.</li>
</UL>
<LI>3. Create the attribute.</li>
<LI>4. Close the attribute and datatype, dataspace, and 
 attribute creation property list, if necessary.</li>
</ul>
<P>
To create and close an attribute, the calling program must use
<a href="/HDF5/doc/RM/RM_H5A.html#Annot-Create">H5Acreate / h5acreate_f</a> and 
<a href="/HDF5/doc/RM/RM_H5A.html#Annot-Close">H5Aclose / h5aclose_f</a>.  For example: 

<pre>
<I>C</I>:
  attr_id = H5Acreate (dataset_id, "Units", H5T_STD_I32BE, dataspace_id, H5P_DEFAULT, H5P_DEFAULT)
  status = H5Aclose (attr_id);

<I>FORTRAN</I>:
  CALL h5acreate_f (dset_id, attr_nam, type_id, space_id, attr_id, &
                    hdferr, creation_prp=creat_plist_id)
  <i>or</i>
  CALL h5acreate_f (dset_id, attr_nam, type_id, space_id, attr_id, hdferr)

  CALL h5aclose_f (attr_id, hdferr)
</PRE>    

<H3>Reading/Writing an attribute</H3>
<P>
Attributes may only be read or written as an entire object; no partial I/O is
supported. Therefore, to perform I/O operations on an attribute, the
application needs only to specify the attribute and the attribute's memory
datatype.
<P>
The steps to read or write an attribute are as follows.
<ul class="ul">
<LI>1. Obtain the attribute identifier.
<LI>2. Specify the attribute's memory datatype.
<LI>3. Perform the desired operation.
<LI>4. Close the memory datatype if necessary.
</ul>
<P>
To read and/or write an attribute, the calling program must contain the
<a href="/HDF5/doc/RM/RM_H5A.html#Annot-Read">H5Aread / h5aread_f</a> 
and/or <a href="/HDF5/doc/RM/RM_H5A.html#Annot-Write">H5Awrite / h5awrite_f</a> routines.  For example:
<pre>
<I>C</I>:
  status = H5Aread (attr_id, mem_type_id, buf);
  status = H5Awrite (attr_id, mem_type_id, buf);

<I>FORTRAN</I>:
  CALL h5awrite_f (attr_id, mem_type_id, buf, dims, hdferr)  
  CALL h5aread_f (attr_id, mem_type_id, buf, dims, hdferr)
</PRE>

<A NAME="hl">                                                                   
<H2>High Level APIs</H2></A>                                                    
The High Level <A HREF="./h5lite.html">HDF5 Lite APIs</A> include 
functions that simplify and condense the steps for creating attributes
in HDF5. Please be sure to review them, in addition to this tutorial.

<H2> Programming Example</H2>
<A NAME="desc"></a>
<H3><U>Description</U></H3>      
This example shows how to create and write a dataset attribute.
It opens an existing file <code>dset.h5</code> in C 
(<code>dsetf.h5</code> in FORTRAN), 
obtains the identifier of the dataset <code>/dset</code>, 
defines the attribute's dataspace, creates the dataset attribute, writes
the attribute, and then closes the attribute's dataspace, attribute, dataset,
and file. <BR>
<ul class="ul">
<p>
[ <a href="/ftp/HDF5/current/src/unpacked/examples/h5_crtatt.c">C Example</a> ] - <code>h5_crtatt.c</code><br />
[<a href="/ftp/HDF5/current/src/unpacked/fortran/examples/h5_crtatt.f90">FORTRAN Example</a> ] - <code>h5_crtatt.f90</code><br />
[ <a href="/ftp/HDF5/current/src/unpacked/c++/examples/h5tutr_crtatt.cpp">C++ Example</a> ] - <code>h5tutr_crtatt.cpp</code><br />
[ <a href="/ftp/HDF5/examples/Py/h5_crtatt.py">Python Example</a> ] - <code>h5_crtatt.py</code><br />
</UL>
</p>

<p>
See <a href="/HDF5/examples/intro.html">HDF5 Introductory Examples</a>
for the examples used in the Learning the Basics tutorial. There are examples for several other languages,
including Java.

<p>
For details on compiling an HDF5 application:                                   
[ <A HREF="./compile.html">Compile Information</A> ]
</p>

<A NAME="rem"></a>
<H3><U>Remarks</U></H3>
<ul class="ul">
<a href="/HDF5/doc/RM/RM_H5A.html#Annot-Create">H5Acreate / h5acreate_f</a> creates an attribute 
which is attached to the object specified by the first parameter, 
and returns an identifier.

<p>
<a href="/HDF5/doc/RM/RM_H5A.html#Annot-Write">H5Awrite / h5awrite_f</a> writes the entire attribute, and returns the status of the write.
</p>

<p>
When an attribute is no longer accessed by a program, 
<a href="/HDF5/doc/RM/RM_H5A.html#Annot-Close">H5Aclose / h5aclose_f</a> must be called
to release the attribute from use. 
 An <code>H5Aclose</code>/<code>h5aclose_f</code> call is mandatory.
</p>
</ul>



<A NAME="fc"></a>
<H3><U>File Contents</U></H3>
<P>
The contents of <code>dset.h5</code> (<code>dsetf.h5</code> for FORTRAN) and the 
attribute definition are shown below:
<P>
<B>Fig. 7.1a</B> &nbsp;  <I><code>dset.h5</code> in DDL</I>

<PRE>
HDF5 "dset.h5" {
GROUP "/" {
DATASET "dset" {
DATATYPE { H5T_STD_I32BE }
DATASPACE { SIMPLE ( 4, 6 ) / ( 4, 6 ) }
DATA {
 1, 2, 3, 4, 5, 6,
 7, 8, 9, 10, 11, 12,
 13, 14, 15, 16, 17, 18,
 19, 20, 21, 22, 23, 24
}
ATTRIBUTE "attr" {
 DATATYPE { H5T_STD_I32BE }
 DATASPACE { SIMPLE ( 2 ) / ( 2 ) }
 DATA {
    100, 200
 }
}
}
}
}
</PRE>
<B>Fig. 7.1b</B> &nbsp;  <I><code>dsetf.h5</code> in DDL</I>
<PRE>
HDF5 "dsetf.h5" {
GROUP "/" {
DATASET "dset" {
DATATYPE { H5T_STD_I32BE }
DATASPACE { SIMPLE ( 6, 4 ) / ( 6, 4 ) }
DATA {
 1, 7, 13, 19,
 2, 8, 14, 20,
 3, 9, 15, 21,
 4, 10, 16, 22,
 5, 11, 17, 23,
 6, 12, 18, 24
}
ATTRIBUTE "attr" {
 DATATYPE { H5T_STD_I32BE }
 DATASPACE { SIMPLE ( 2 ) / ( 2 ) }
 DATA {
    100, 200
 }
}
}
}
}
</PRE>



<A NAME="ddl"></a>
<h3><U>Attribute Definition in DDL</U></H3>
<B>Fig. 7.2</B> &nbsp;  <I>HDF5 Attribute Definition</I>
<PRE>

&lt;attribute&gt ::= ATTRIBUTE "&lt;attr_name&gt;" { &lt;datatype&gt
				       &lt;dataspace&gt
				       &lt;data&gt  }

</PRE>


<!-- BEGIN FOOTER INFO -->

<hr>
<i>
- - Last modified: 21 December 2016</i>
	   </div>
	   <!--END: CONTENT -->
<!--END: WRAPPER -->
<script src="/scriptaculous/gatag.js" type="text/javascript"></script>

<!-- <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> -->
				
<!--
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-3782034-1");
pageTracker._trackPageview();
} catch(err) {}</script>
-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3782034-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>

