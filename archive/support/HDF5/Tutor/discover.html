

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!-- If no var is set for $page_title on the top of each page than default title will be HDF Group -->

<title>
The HDF Group - Information, Support, and Software</title>
	<meta name="keywords" content="hdf, hdfeos, blog, hdf blog, hdf5 blog, hdf5, hdf4, hdf tools, hdf libraries, hdf viewer, hdf format, hdf file, hdf java, nafxcw.lib, phdf5, open source, hierarchical data format, ncsa, database, python hdf, mike folk, hdfview, hdf5 parallel" />
	<meta name="description" content="The HDF Group is a not-for-profit corporation with the mission of sustaining the HDF technologies and supporting HDF user communities worldwide with production-quality software and services." />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="expires" content="Wed, 26 Feb 2010 08:21:57 GMT" />
	<meta name="verify-v1" content="/m03HNmaDgGAcDe0PFtEVnXGtCkoeOocjr/Jwey2gdI=" />
	<link href="../../css/layout.css" rel="stylesheet" type="text/css" media="screen, projection" />
	<link href="../../css/print.css" rel="stylesheet" type="text/css" media="print" />
	<link rel="stylesheet" type="text/css" href="../../css/js_style.css" />
	<link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon" />
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.2.0/prototype.js"></script>
	<!--<script type="text/javascript" src="/scriptaculous/lib/prototype.js"></script>-->
	<script type="text/javascript" src="../../scriptaculous/src/effects.js"></script>
	<script type="text/javascript" src="../../scriptaculous/validation.js"></script>
	<script type="text/javascript" src="../../scriptaculous/animatedcollapse.js"></script>
	<script type="text/javascript" src="../../scriptaculous/rollover.js"></script>	
	<script type="text/javascript" src="../../scriptaculous/functions.js"></script>
	<script type="text/javascript" src="../../scriptaculous/sorttable.js"></script>
	<!--<script type="text/javascript" src="/jquery-1.2.2.pack.js"></script>-->
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="../../scriptaculous/jssor.slider.min.js"></script>

 	<link rel="stylesheet" type="text/css" href="../../featuredcontentglider.css" />
    <script type="text/javascript" src="../../featuredcontentglider.js"></script>

	</head>
	<body>
	<div id="mast_head">
		<a href="https://www.hdfgroup.org/"><img src="../../images/hdf_logo.jpg" height="70" style="display:block; padding-left:10px;" align="left" alt="hdf images" /></a>
		<img src="../../images/logo_5.jpg" height="70" style="display:block;" align="right" alt="hdf images" />
	</div> 
				
	<div id="nav_wrapper">
		<div>
		<div id="section-">
			<ul id="nav">
				<li id="t-index"><a href="https://www.hdfgroup.org/">Home</a> </li>
				<li id="t-products"><a href="../../products/index.html">Products</a></li>
				<li id="t-services"><a href="../../services/index.html">Services</a></li>
				<li id="t-about"><a href="../../about/index.html">About Us</a></li>
				<li id="t-news"><a href="../../news/index.html">News</a> </li>
				<li id="t-blog"><a href="https://www.hdfgroup.org/blog">Blog</a></li>
				<li id="t-contact"><a href="../../about/contact.html">Contact Us</a></li> 
			</ul>
			<script type="text/javascript">
			
  (function() {
    var cx = '007250492606109219119:sb2eg2bgoyy';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>	
					<script type="text/javascript">
					    jQuery(document).ready(function ($) {
					        // var options = {
					        //     $ArrowNavigatorOptions: {
					        //         $Class: $JssorArrowNavigator$,
					        //         $ChanceToShow: 2
					        //     }
					        // };					    	


							var options = { 
											$AutoPlay: true, $SlideshowOptions: { $Class: $JssorSlideshowRunner$, $Transitions: [{ $Duration:5000, $Fade: true, $Opacity:2 }] } , 
											$ArrowNavigatorOptions: { 
												$Class: $JssorArrowNavigator$, 
												$ChanceToShow: 2
											}
										  };


					        var jssor_slider1 = new $JssorSlider$('slider1_container', options);
					    });
					</script>
									                  
			
		</div>
		</div>             
	</div>
				
<!--START: MAIN -->
<div id="wrapper" style="margin-top:-15px;"> 

<!--START: SIDE_BAR -->
<div id="side_bar">

<form method="get" action="discover.html" class="form" >
	<select onchange="window.open(this.options[this.selectedIndex].value,'_top')" name="" style="border:2px solid #c1c1c1;">
		<option value="" class="ql1">- - Quick Links - -</option>
		<option value="/HDF5/" class="ql">HDF5</option>
		<option value="/products/hdf4/" class="ql">HDF4</option>
		<option value="/tools/" class="ql">Tools</option>
		<option value="/projects/" class="ql">Projects</option>
		<option value="/downloads/" class="ql">Downloads</option>
		<option value="/documentation/" class="ql">Documentation</option>
	        <option value="/pubs/" class="ql">Publications</option>
		<option value="/about/" class="ql">Contact Us</option>
	</select>
</form>
<ul style="border:1px solid #c1c1c1; margin-top:25px;"> 

	<li style="background:url(../../images/menubg.png); padding:0px; padding-left:7px; color:#27343C; font-weight:500; text-align:left;">
	LINKS</li><li><a href="https://www.hdfgroup.org/">Main Website</a></li><li><a  href="../whatishdf5.html">What is HDF5?</a></li><li><a  href="../../about/HDF5Brochure_2012.pdf">Online Brochure</a></li><li><a  href="../../downloads/index.html">Downloads</a></li><li><a  href="../doc/index.html">Documentation</a></li><li><a  href="../../products/hdf5_tools/index.html">Software using HDF5</a></li><li><a  href="../users5.html">HDF5 Users</a></li><li><a  href="../hdf5-files.html">Sample HDF5 Files</a></li><li><a  href="../acknowledge5.html">Acknowledgments</a></li><li><a  href="../../products/licenses.html">Licenses</a></li></ul> 

</div>

<!--END: SIDE_BAR -->

<!--START: CONTENT -->
<div id="content">
<p><font color="red"><center><strong>This web site is no longer maintained (but will remain online).<br /> Please see The HDF Group's new <a href="https://portal.hdfgroup.org">Support Portal</a> for the latest information.</strong></center></font></p>
	<div class=bc><p style="color:orange; ";><a href="../../index.html" title="HOME">HOME</a> &gt; <a href="../../products/hdf5/index.html" title="HDF5">HDF5</a> &gt; <a href="../Tutor.html" title="TUTOR">TUTOR</a></p></div>
<fieldset><h1>HDF5 Tutorial: &nbsp; Learning The Basics<br />Discovering the Contents of an HDF5 File</h1></fieldset>

<h2>Contents:</h2>
  <ul class="ul">
    <li><p><a href="discover.html#discover">Discovering what is in an HDF5 file</a></p></li>
    <li><p>Programming Example (C, Fortran, Java):
         <ul class="ul">
           <li><a href="discover.html#trav">Using H5Literate, H5Lvisit, and H5Ovisit</a></li>
           <li><a href="discover.html#h5g">Using the H5G API</a></li>
         </ul>
    </p>
    </li>
   </ul>

<hr /> 

<a name="discover"></a>
<h2>Discovering what is in an HDF5 file</h2>
<p>
Until now, three ways have been mentioned that can be used to read an existing
HDF5 file:
</p>

<p>
<ul class="ul">
  <li class="li3">The HDF-Java browser, HDFView, can be used to open and browse an HDF5 file.</li>
  <li class="li3">The h5dump utility can be used to display the contents of an HDF5 file.</li>
  <li class="li3">From an application, the H5Dopen function can open a specified dataset,
      which can then be read using H5Dread.
  </li>
</ul>
</p>

<p>
HDFView and h5dump are standalone tools which cannot be called within
an application, and using H5Dopen and H5Dread require that you know the name
of the HDF5 dataset. How would an application that has no prior knowledge of
an HDF5 file, be able to determine or discover the contents of it, much like
HDFView and h5dump?
</p>

<p>
The answer is that there are ways to discover the
contents of an HDF5 file, by using the H5G, H5L and H5O APIs: 
</p>

<ul class="ul">
<li class="li3">
<p>
The H5G interface (covered earlier) consists of routines for working with groups.
A group is a structure that can be used to organize zero or more HDF5 objects, 
not unlike a Unix directory.
</p>
</li>

<li class="li3">
<p>
The H5L interface consists of link routines. A link is a path between groups.
The H5L interface allows objects to be accessed by use of these links. 
</p>
</li>

<li class="li3">
<p> The H5O interface consists of routines for working with objects. Datasets, 
groups, and committed datatypes are all <em>objects</em> in HDF5. 
</p>
</li>
</ul>

<p>
Using just the H5G interface, you can <em>drill your way down</em>, starting from the root
group, opening groups and objects until you reach all objects.
Functions that enable this are: 
<ul class="ul"> 
<li class="li3"><a href="../doc/RM/RM_H5G.html#Group-GetNumObjs">H5Gget_num_objs</a></li>
<li class="li3"><a href="../doc/RM/RM_H5G.html#Group-GetObjNameByIdx">H5Gget_objname_by_idx</a></li>
<li class="li3"><a href="../doc/RM/RM_H5G.html#Group-GetObjTypeByIdx">H5Gget_objtype_by_idx</a></li>
</ul>  
</p>

<p>
There are also specific H5O and H5L interface routines that simplify the
process:
<ul class="ul">

<li class="li3"> 
<p>
<a href="../doc/RM/RM_H5L.html#Link-Iterate">H5Literate</a>
traverses the links in a specified group, in the order of
the specified index, using a user-defined callback routine. (A callback function
is one that will be called when a certain condition is met, at a certain point in the
future.)
</p>
</li>

<li class="li3"><a href="../doc/RM/RM_H5O.html#Object-Visit">H5Ovisit</a> / <a href="../doc/RM/RM_H5L.html#Link-Visit">H5Lvisit</a>
recursively visit all objects/links accessible from a specified object/group.
</li>

</ul>


<h2> Programming Examples</h2>


<a name="trav"> </a>
<h3>Using H5Literate, H5Lvisit and H5Ovisit:</h3>
<!--
<p>
To use <a href="/HDF5/doc/RM/RM_H5L.html#Link-Iterate">H5Literate</a> 
to see what was in a file, what would need to be done?
</p>

<p>
First, these questions must be answered:
<ul class="ul">
  <li class="li3">By what order should the links be sorted (name or creation)?</li>
  <li class="li3">By what order will the objects be inspected along an index (increasing, decreasing, or fastest available)?</li>
  <li class="li3">Will the iteration be interrupted and resumed and if yes, where?</li>
  <li class="li3">What information should be obtained or accessed during the process (done by the callback routine)?</li>
</ul>

<p>
Below is a line of C code, which uses <a href="/HDF5/doc/RM/RM_H5L.html#Link-Iterate">H5Literate</a>:
<pre>
  status = H5Literate (file, H5_INDEX_NAME, H5_ITER_NATIVE, NULL, op_func, NULL);
</pre>
</p>

<p>
It assumes:
<ul class="ul">
  <li class="li3">The links are sorted by index_name (H5_INDEX_NAME).</li>
  <li class="li3">The objects will be inspected along an index using the fastest available order (H5_ITER_NATIVE).</li>
  <li class="li3">The iteration will not be interrupted and resumed.</li>
  <li class="li3">The iteration will display the name and type of every object and nothing more.</li>
</ul>

</p>
 

<p>In the above code, the fourth parameter (set to NULL) is used when interrupting
an iteration.  The last parameter (also set to NULL) allows information to be passed back.
</p>

<p>
Also in the above code, <em>op_func</em> is the name of the callback function. 
Following is an example of a callback function that does nothing more than check the 
object type and display the name of the object:
</p>

<p>
<pre>
herr_t op_func (hid_t loc_id, const char *name, const H5L_info_t *info,
            void *operator_data)
{
    herr_t          status;
    H5O_info_t      infobuf;

    /*
     * Get type of the object and display its name and type.
     * The name of the object is passed to this function by
     * the Library.
     */
    status = H5Oget_info_by_name (loc_id, name, &infobuf, H5P_DEFAULT);
    switch (infobuf.type) {
        case H5O_TYPE_GROUP:
            printf ("  Group: %s\n", name);
            break;
        case H5O_TYPE_DATASET:
            printf ("  Dataset: %s\n", name);
            break;
        default:
            printf ( "  Unknown: %s\n", name);
    }

    return 0;
}
</pre>
</p>
-->

<p>
Under <a href="../examples/index.html">HDF5 Examples</a> you will
find <strong>Examples by API</strong>, where examples of using H5Literate and 
H5Ovisit/H5Lvisit are included.
</p>

<p>The <em>h5ex_g_traverse</em> example traverses a file using H5Literate:
<ul class="ul">
[ <A HREF="https://support.hdfgroup.org/ftp/HDF5/examples/examples-by-api/hdf5-examples/1_8/C/H5G/h5ex_g_traverse.c">C Example</A> ]
    -- <code>h5ex_g_traverse.c</code><br />
[ <A HREF="https://support.hdfgroup.org/ftp/HDF5/examples/examples-by-api/hdf5-examples/1_8/FORTRAN/H5G/h5ex_g_traverse_F03.f90">Fortran Example</A> ]
    -- <code>h5ex_g_traverse_F03.f90</code><br />
<!--
[ <A HREF="/ftp/HDF5/hdf-java/current/src/unpacked/examples/groups/H5Ex_G_Traverse.java">Java Example</A> ]
    -- <code>H5Ex_G_Traverse.java</code><br />
-->
</ul>
</p>

<p>The <em>h5ex_g_visit</em> example traverses a file using H5Ovisit and H5Lvisit:
<ul class="ul">
[ <A HREF="https://support.hdfgroup.org/ftp/HDF5/examples/examples-by-api/hdf5-examples/1_8/C/H5G/h5ex_g_visit.c">C Example</A> ]
    -- <code>h5ex_g_visit.c</code><br />
[ <A HREF="https://support.hdfgroup.org/ftp/HDF5/examples/examples-by-api/hdf5-examples/1_8/FORTRAN/H5G/h5ex_g_visit_F03.f90">Fortran Example</A> ]
    -- <code>h5ex_g_visit_F03.f90</code><br />
<!--
[ <A HREF="/ftp/HDF5/hdf-java/current/src/unpacked/examples/groups/H5Ex_G_Visit.java">Java Example</A> ]
    -- <code>H5Ex_G_Visit.java</code><br />
-->
</ul>
</p>

<a name="h5g"> </a>
<h3>Using the H5G API:</h3>
<p>
To use the H5G interface exclusively you would begin with the root group, open it,
get the number of objects (NumObj) in the group (see
<a href="../doc/RM/RM_H5G.html#Group-GetNumObjs">H5Gget_num_objs</a>), 
and then loop through all of the objects in the group (from 0 to (NumObj - 1)), accessing each 
by index (see
<a href="../doc/RM/RM_H5G.html#Group-GetObjNameByIdx">H5Gget_objname_by_idx</a> and
<a href="../doc/RM/RM_H5G.html#Group-GetObjTypeByIdx">H5Gget_objtype_by_idx</a>).
If an object is another group, you would then open that group and repeat the process 
until all objects have been accessed.
</p>

<p>
The example below gives an idea of what could be done.
Simply pass in the name of the HDF5 file as a parameter to this program:
<ul class="ul">
[ <A HREF="https://support.hdfgroup.org/ftp/HDF5/examples/introductory/C/h5getinfo.c">C Example</A> ]
    -- <code>h5getinfo.c</code><br /> (not tested)
</ul>
</p>




<hr />
<i>
- - Last modified: 21 December 2016</i>
	   </div>
	   <!--END: CONTENT -->
<!--END: WRAPPER -->
<script src="../../scriptaculous/gatag.js" type="text/javascript"></script>

<!-- <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> -->
				
<!--
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-3782034-1");
pageTracker._trackPageview();
} catch(err) {}</script>
-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3782034-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>



