
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!-- If no var is set for $page_title on the top of each page than default title will be HDF Group -->

<title>
The HDF Group - Information, Support, and Software</title>
	<meta name="keywords" content="hdf, hdfeos, blog, hdf blog, hdf5 blog, hdf5, hdf4, hdf tools, hdf libraries, hdf viewer, hdf format, hdf file, hdf java, nafxcw.lib, phdf5, open source, hierarchical data format, ncsa, database, python hdf, mike folk, hdfview, hdf5 parallel" />
	<meta name="description" content="The HDF Group is a not-for-profit corporation with the mission of sustaining the HDF technologies and supporting HDF user communities worldwide with production-quality software and services." />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="expires" content="Wed, 26 Feb 2010 08:21:57 GMT" />
	<meta name="verify-v1" content="/m03HNmaDgGAcDe0PFtEVnXGtCkoeOocjr/Jwey2gdI=" />
	<link href="/css/layout.css" rel="stylesheet" type="text/css" media="screen, projection" />
	<link href="/css/print.css" rel="stylesheet" type="text/css" media="print" />
	<link rel="stylesheet" type="text/css" href="/css/js_style.css" />
	<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.2.0/prototype.js"></script>
	<!--<script type="text/javascript" src="/scriptaculous/lib/prototype.js"></script>-->
	<script type="text/javascript" src="/scriptaculous/src/effects.js"></script>
	<script type="text/javascript" src="/scriptaculous/validation.js"></script>
	<script type="text/javascript" src="/scriptaculous/animatedcollapse.js"></script>
	<script type="text/javascript" src="/scriptaculous/rollover.js"></script>	
	<script type="text/javascript" src="/scriptaculous/functions.js"></script>
	<script type="text/javascript" src="/scriptaculous/sorttable.js"></script>
	<!--<script type="text/javascript" src="/jquery-1.2.2.pack.js"></script>-->
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="/scriptaculous/jssor.slider.min.js"></script>

 	<link rel="stylesheet" type="text/css" href="/featuredcontentglider.css" />
    <script type="text/javascript" src="/featuredcontentglider.js"></script>

	</head>
	<body>
	<div id="mast_head">
		<a href="https://www.hdfgroup.org/"><img src="/images/hdf_logo.jpg" height="70" style="display:block; padding-left:10px;" align="left" alt="hdf images" /></a>
		<img src="/images/logo_5.jpg" height="70" style="display:block;" align="right" alt="hdf images" />
	</div> 
				
	<div id="nav_wrapper">
		<div>
		<div id="section-">
			<ul id="nav">
				<li id="t-index"><a href="https://www.hdfgroup.org/">Home</a> </li>
				<li id="t-products"><a href="/products/">Products</a></li>
				<li id="t-services"><a href="/services/">Services</a></li>
				<li id="t-about"><a href="/about/">About Us</a></li>
				<li id="t-news"><a href="/news/">News</a> </li>
				<li id="t-blog"><a href="https://www.hdfgroup.org/blog">Blog</a></li>
				<li id="t-contact"><a href="/about/contact.html">Contact Us</a></li> 
			</ul>
			<script type="text/javascript">
			
  (function() {
    var cx = '007250492606109219119:sb2eg2bgoyy';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>	
					<script type="text/javascript">
					    jQuery(document).ready(function ($) {
					        // var options = {
					        //     $ArrowNavigatorOptions: {
					        //         $Class: $JssorArrowNavigator$,
					        //         $ChanceToShow: 2
					        //     }
					        // };					    	


							var options = { 
											$AutoPlay: true, $SlideshowOptions: { $Class: $JssorSlideshowRunner$, $Transitions: [{ $Duration:5000, $Fade: true, $Opacity:2 }] } , 
											$ArrowNavigatorOptions: { 
												$Class: $JssorArrowNavigator$, 
												$ChanceToShow: 2
											}
										  };


					        var jssor_slider1 = new $JssorSlider$('slider1_container', options);
					    });
					</script>
									                  
			
		</div>
		</div>             
	</div>
				
<!--START: MAIN -->
<div id="wrapper" style="margin-top:-15px;"> 

<!--START: SIDE_BAR -->
<div id="side_bar">

<form method="get" action="" class="form" >
	<select onchange="window.open(this.options[this.selectedIndex].value,'_top')" name="" style="border:2px solid #c1c1c1;">
		<option value="" class="ql1">- - Quick Links - -</option>
		<option value="/HDF5/" class="ql">HDF5</option>
		<option value="/products/hdf4/" class="ql">HDF4</option>
		<option value="/tools/" class="ql">Tools</option>
		<option value="/projects/" class="ql">Projects</option>
		<option value="/downloads/" class="ql">Downloads</option>
		<option value="/documentation/" class="ql">Documentation</option>
	        <option value="/pubs/" class="ql">Publications</option>
		<option value="/about/" class="ql">Contact Us</option>
	</select>
</form>
<ul style="border:1px solid #c1c1c1; margin-top:25px;"> 

	<li style="background:url(/images/menubg.png); padding:0px; padding-left:7px; color:#27343C; font-weight:500; text-align:left;">
	LINKS</li><li><a href="https://www.hdfgroup.org/">Main Website</a></li><li><a  href="/HDF5/whatishdf5.html">What is HDF5?</a></li><li><a  href="/about/HDF5Brochure_2012.pdf">Online Brochure</a></li><li><a  href="/downloads/index.html">Downloads</a></li><li><a  href="/HDF5/doc/index.html">Documentation</a></li><li><a  href="/products/hdf5_tools/">Software using HDF5</a></li><li><a  href="/HDF5/users5.html">HDF5 Users</a></li><li><a  href="/HDF5/hdf5-files.html">Sample HDF5 Files</a></li><li><a  href="/HDF5/acknowledge5.html">Acknowledgments</a></li><li><a  href="/products/licenses.html">Licenses</a></li></ul> 

</div>

<!--END: SIDE_BAR -->

<!--START: CONTENT -->
<div id="content">
<p><font color="red"><center><strong>This web site is no longer maintained (but will remain online).<br /> Please see The HDF Group's new <a href="https://portal.hdfgroup.org">Support Portal</a> for the latest information.</strong></center></font></p>
	<div class=bc><p style="color:orange; ";><a href="/" title="HOME">HOME</a> &gt; <a href="/HDF5/" title="HDF5">HDF5</a> &gt; <a href="/HDF5/Tutor/" title="TUTOR">TUTOR</a></p></div>
<fieldset><h1>
<h1> Creating / Accessing a Dataset with PHDF5</h1></fieldset>

<P>
The programming model for accessing a dataset with Parallel HDF5 is:
<ul class="ul">
<li class="li3">Create or open a Parallel HDF5 file with a collective call to:
<P>
<UL>
<a href="/HDF5/doc/RM/RM_H5D.html#Dataset-Create">H5Dcreate (C) / h5dcreate_f (F90)</a><br />
<a href="/HDF5/doc/RM/RM_H5D.html#Dataset-Open">H5Dopen
(C) / h5dopen_f (F90)</a> 
</UL>

<P>  
<li class="li3">Obtain a copy of the file transfer property list and set it to
use <em>collective</em> or <em>independent I/O</em>.  
<BR>
Do this by first passing a data transfer property list class type to: 
<P>
<UL>
<a href="/HDF5/doc/RM/RM_H5P.html#Property-Create">H5Pcreate (C) / h5pcreate_f (F90)</a> 
</UL>
<P>
Then set the data transfer mode to either use <em>independent I/O</em> access
or to use <em>collective I/O</em>, with a call to: 
<P>
<UL>
<a href="/HDF5/doc/RM/RM_H5P.html#Property-SetDxplMpio">H5Pset_dxpl_mpio (C) / h5pset_dxpl_mpio_f (F90)</a> 
</UL>
<P>
Following are the parameters required by this call: 
<PRE>
<strong>C:</strong>
    <em>herr_t</em> H5Pset_dxpl_mpio (<em>hid_t</em> dxpl_id, <em>H5FD_mpio_xfer_t</em>  xfer_mode )
         dxpl_id    IN: Data transfer property list identifier
         xfer_mode  IN: Transfer mode:
                        H5FD_MPIO_INDEPENDENT - use independent I/O access
                                                (default)
                        H5FD_MPIO_COLLECTIVE  - use collective I/O access

<B>F90</B>:
   h5pset_dxpl_mpi_f (prp_id, data_xfer_mode, hdferr)
         prp_id         IN: Property List Identifer (INTEGER (HID_T))
         data_xfer_mode IN: Data transfer mode  (INTEGER)
                              H5FD_MPIO_INDEPENDENT_F (0)
                              H5FD_MPIO_COLLECTIVE_F (1)
         hdferr         IN: Error code  (INTEGER)
</PRE>
<P>
<li class="li3">Access the dataset with the defined transfer property list.
<P>
All processes that have opened a dataset may do collective I/O.  Each
process may do an independent and arbitrary number of data I/O access
calls, using:
<P>
<ul class="ul">
<a href="/HDF5/doc/RM/RM_H5D.html#Dataset-Write">H5Dwrite (C) / h5dwrite_f (F90)</a><br /> 
<a href="/HDF5/doc/RM/RM_H5D.html#Dataset-Read">H5Dread
(C) / h5dread_f (F90)</a>
</ul>

<P>
If a dataset is unlimited, you can extend it with a <I>collective
call</I> to:
<P>
<ul class="ul">
<a href="/HDF5/doc/RM/RM_H5D.html#Dataset-Extend">
H5Dextend (C) / h5dextend_f (F90)</a>   
</UL>

</ul>
</li>
 
The following code demonstrates a collective write using Parallel HDF5:
<PRE>
<B>C</B>:
    95      /*
    96       * Create property list for collective dataset write.
    97       */
<B>    98      plist_id = H5Pcreate (H5P_DATASET_XFER);
    99      H5Pset_dxpl_mpio (plist_id, H5FD_MPIO_COLLECTIVE);</B>
   100
   101      status = H5Dwrite (dset_id, H5T_NATIVE_INT, memspace, filespace,
   102                <B>plist_id</B>, data);

<B>F90</B>:
   108       ! Create property list for collective dataset write
   109       !
<B>   110       CALL h5pcreate_f (H5P_DATASET_XFER_F, plist_id, error)
   111       CALL h5pset_dxpl_mpio_f (plist_id, H5FD_MPIO_COLLECTIVE_F, error)</B>
   112
   113       !
   114       ! Write the dataset collectively.
   115       !
   116       CALL h5dwrite_f (dset_id, H5T_NATIVE_INTEGER, data, dimsfi, error, &
   117          file_space_id = filespace, mem_space_id = memspace, <B>xfer_prp = plist_id</B>)
</PRE>

The following example programs create a dataset in an HDF5 file using 
Parallel HDF5:
<UL>
[ <A HREF="/ftp/HDF5/examples/parallel/Dataset.c">C Example</A> ]
    -- <code>Dataset.c</code><BR>
[ <A HREF="/ftp/HDF5/examples/parallel/dataset.f90">FORTRAN90 Example</A> ]
    -- <code>dataset.f90</code>
</UL>


<br />
<hr />
<i>
- - Last modified: 21 December 2016</i>
	   </div>
	   <!--END: CONTENT -->
<!--END: WRAPPER -->
<script src="/scriptaculous/gatag.js" type="text/javascript"></script>

<!-- <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> -->
				
<!--
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-3782034-1");
pageTracker._trackPageview();
} catch(err) {}</script>
-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3782034-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>


