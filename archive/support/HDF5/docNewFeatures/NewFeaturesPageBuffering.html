<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN"
        "http://www.w3.org/TR/html4/frameset.dtd">
<html>
  <head>

<!--
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
  * Copyright by The HDF Group.                                               *
  * All rights reserved.                                                      *
  *                                                                           *
  * This file is part of HDF5.  The full HDF5 copyright notice, including     *
  * terms governing use, modification, and redistribution, is contained in    *
  * the files COPYING and Copyright.html.  COPYING can be found at the root   *
  * of the source code distribution tree; Copyright.html can be found at the  *
  * root level of an installed copy of the electronic HDF5 document set and   *
  * is linked from the top-level documents page.  It can also be found at     *
  * http://hdfgroup.org/HDF5/doc/Copyright.html.  If you do not have          *
  * access to either file, you may request a copy from help@hdfgroup.org.     *
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 -->

<link href="https://support.hdfgroup.org/HDF5/docNewFeatures/ed_styles/RMelect.css" rel="stylesheet" type="text/css">
    <title>
      Page Buffering Documentation
    </title>
  </head>

<body bgcolor="#ffffff">

<font face="Tahoma, Arial, Verdana, Helvetica, sans-serif" size="3">

<!-- BEGIN MAIN BODY -->



<table width="100%" cellpadding="0" border="0"> 
  <tr valign="top" align="left">
    <td>
      <a href="http://www.hdfgroup.org">
      <img src="Graphics/THGnoTextSm.jpg" alt="The HDF Group logo" 
        border="0" width="75"></a>
        <font size="+2">The HDF Group</font>
        </td>
    <td align="right">
      <img src="Graphics/binder.jpg" alt="Documentation" 
        border="0" height="60">
        </td></tr>

<!--    #888888 is a dark gray (dark gray horizontal line under logo 
        at top of web page. 
        #004488 is a dark blue (dark horizontal line at top of web pages). 
        #d2e6ef is a pale bluish gray or grayish aqua (nav bar background).
        #fbfbfb is almost white (background for nav bar links) 
        and is very close to #FFFFFF. 
        #FF0000 is a bright red (use when troubleshooting).
-->

<tr><td colspan="2" bgcolor="#888888" height="3"></td></tr>

<tr><td colspan="2" bgcolor="#004488" height="7" valign="bottom">&nbsp;
<!--
<font face="Tahoma, Arial, Verdana, Helvetica, sans-serif" size="3">&nbsp;</font>
-->
</td></tr>

</table>


<table border="0" width="100%" cellpadding="5">
<!-- change border value from 1 to 0 when finished editing 2.18.2014 -->
<tr><td rowspan="3" width="13%" bgcolor="#d2e6ef" valign="top" align="left">
&nbsp;<br />
<center>

<table border="0" cellpadding="10">
<tr><td bgcolor="#fbfbfb">

    <center><font size="+1">Other HDF Links</font></center>
    <hr />
    <font size="-1">
    <dl>

    <dt><a href="../doc.html"
        target="ExtWin">HDF5 1.10 Documentation</a></dt><br />
    <dt align="center"><hr size=4 color="gray">
        <a href="index.html">New Features in HDF5 1.10</a>
        <hr size=1>
        </dt>
    <dt><a href="NewFeaturesAdditionalNewFuncsEtc.html">
        Additional New APIs</a>
        </dt><br />
    <dt><a href="NewFeaturesCollectiveMetadataIoDocs.html">
        Collective Metadata I/O</a>
        </dt><br />
    <dt><a href="NewFeaturesFineTuningMetadataCacheDocs.html">
        Fine-tuning the Metadata Cache</a>
        </dt><br />
    <dt><a href="NewFeaturesFileSpaceMgmtDocs.html">
        File Space Management</a>
        </dt><br />
    <dt><a href="NewFeaturesPageBuffering.html">
        Page Buffering</a>
        </dt><br />
    <dt><a href="NewFeaturesPartialEdgeChunkDocs.html">
        Partial Edge Chunks</a>
        </dt><br />
    <dt><a href="NewFeaturesReferenceDocs.html">
        Reference</a>
        </dt><br />
    <dt><a href="NewFeaturesSwmrDocs.html">
        SWMR</a>
        </dt><br />
    <dt><a href="NewFeaturesVirtualDatasetDocs.html">
        Virtual Datasets (VDS)</a>

    </dl>

    </font>
    </td></tr></table></center>

    </td></tr>



<!-- 
The table data element below sets up the middle column 
between the navigation frame on the left and the content of the 
web page.
-->
<td rowspan="3" bgcolor="#FFFFFF" width="2%">&nbsp;</td>



<!-- 
The table data element below is used to hold the content of the 
web page. 
-->
<td bgcolor="#FFFFFF" valign="top" align="center" width="85%">

<table border="0" width="100%">
<tr>
<td bgcolor="#fbf3ef" align="center" valign="top" colspan="2">
    <hr size="1"/>
    <font size="5" color="#000000">Page Buffering
    Documentation
    </font>
    <hr size="1"/>
    </td>
</tr>



<tr>
<td bgcolor="#FFFFFF" align="left" valign="top" colspan="2">
<!--
    <font size=5 color=#004488>Page Abstract</font>
    <br />
-->
    This page describes the new HDF5 Page Buffering option 
    and provides links to available reference manual entries.
    The page includes the following sections:
    
    <ul>
    <li><a href="NewFeaturesPageBuffering.html#Overview">Overview of the Page Buffering Option</a></li>
    <li><a href="NewFeaturesPageBuffering.html#Hdf5LibraryApis">HDF5 Library APIs</a></li>
    <li><a href="NewFeaturesPageBuffering.html#Tools">Tools</a></li>
    </ul>
    
</tr>



<tr>
<td bgcolor="#FFFFFF" valign="top" align="center" colspan="2">
    &nbsp;</td></tr>



<tr>
<td bgcolor="#FFFFFF" align="left" valign="top" colspan="2">
    <font size="5" color="#004488"><a name="Overview">
    Overview of the Page Buffering Feature</a></font>
    </td></tr>



<tr>
<td bgcolor="#FFFFFF" valign="top" align="left" colspan="2">
    <p>
    <font size="4" color="#004488">Summary</font>
    </p>
    <p>
    Page buffering adds a layer immediately above the Virtual File Driver I/O layer within the
    library, which acts as a page cache for metadata and raw data accesses that are smaller than
    the page size for file space allocation.  For most applications the HDF5 library generates
    very small amounts of  metadata and raw data accesses in HDF5 datasets, even though the total
    amount of metadata in an HDF5 file varies between applications. These small and random 
    I/O accesses on parallel file systems result in poor performance for applications.
    <p> 
   The page buffering feature, in conjunction with paged aggregation, can be used to reduce the 
   number of small accesses in HDF5. Together these features give an application control over 
   minimizing the granularity and alignment of HDF5 I/O requests.

   See <a href="NewFeaturesFileSpaceMgmtDocs.html">File Space
   Management</a> for information on paged aggregation.
   </p>
    <p>
    <font size="4" color="#004488">Background Information</font>
    </p>
    <p>
    See the <a href="PageBuffering/RFC-Page_Buffering.pdf">RFC</a> on this feature for complete details.
    </p>
    



<tr>
<td bgcolor="#FFFFFF" valign="top" colspan="2">
    <br />
    <font size="5" color="#004488"><a name="Hdf5LibraryApis">
    HDF5 Library APIs</a></font>
    </td></tr>



<tr>
    <td align="left" valign="top" colspan="2">
    Following are the APIs introduced for this feature.
    </td>
</tr>





<!-- start nested table -->
<tr><td><table>
<tr><td bgcolor="#FFFFFF" colspan="2">&nbsp;</td></tr>



<tr>
    <td valign="top" colspan="2">
    <font size="4" color="#004488">New Functions for 
          Page Buffering</a></font>
    <br /> &nbsp;
    </td>
</tr>




<tr>
    <td valign="top" width="25%">
    <a href="../doc/RM/RM_H5P.html#Property-GetFileSpaceStrategy">
    <code>H5Pget_file_space_strategy</code></a>&nbsp;</td>
    <td valign="top" width="75%">
    Retrieves the File Space Strategy for a file creation property list. See <a href="NewFeaturesFileSpaceMgmtDocs.html">File Space Management</a> for more details. 
    </td>
</tr>
<tr><td bgcolor="#FFFFFF" colspan="2">&nbsp;</td></tr>

<tr>
    <td valign="top" width="25%">
    <a href="../doc/RM/RM_H5P.html#Property-SetFileSpaceStrategy">
    <code>H5Pset_file_space_strategy</code></a>&nbsp;</td>
    <td valign="top" width="75%">
    <code>H5F_FSPACE_STRATEGY_PAGE</code> sets the file space handling strategy to use Page Buffering. See <a href="NewFeaturesFileSpaceMgmtDocs.html">File Space Management</a> for more details. 
    </td>
</tr>

<tr><td bgcolor="#FFFFFF" colspan="2">&nbsp;</td></tr>

<tr>
    <td valign="top" width="25%">
    <a href="../doc/RM/RM_H5P.html#Property-GetFileSpacePageSize">
    <code>H5Pget_file_space_page_size</code></a>
    </td>
    <td valign="top" width="75%">
    Retrieves the file space page size.
    </td>
</tr>
<tr><td bgcolor="#FFFFFF" colspan="2">&nbsp;</td></tr>

<tr>
    <td valign="top" width="25%">
    <a href="../doc/RM/RM_H5P.html#Property-SetFileSpacePageSize">
    <code>H5Pset_file_space_page_size</code></a>
    </td>
    <td valign="top" width="75%">
    Sets the file space page size when file space allocation is <code>H5F_FSPACE_STRATEGY_PAGE</code>.
    </td>
</tr>
<tr><td bgcolor="#FFFFFF" colspan="2">&nbsp;</td></tr>

<tr>
    <td valign="top" width="25%">
    <a href="../doc/RM/RM_H5P.html#Property-GetPageBufferSize">
    <code>H5Pget_page_buffer_size</code></a>&nbsp;</td>
    <td valign="top" width="75%">
    Retrieves the maximum size for the page buffer and the minimum percentage for metadata and raw data pages.
    </td>
</tr>

<tr><td bgcolor="#FFFFFF" colspan="2">&nbsp;</td></tr>


<tr>
    <td valign="top" width="25%">
    <a href="../doc/RM/RM_H5P.html#Property-SetPageBufferSize">
    <code>H5Pset_page_buffer_size</code></a>&nbsp;</td>
    <td valign="top" width="75%">
    Sets the maximum size for the page buffer and the minimum percentage for metadata and raw data pages.
    </td>
</tr>

<tr><td bgcolor="#FFFFFF" colspan="2">&nbsp;</td></tr>

<tr>
    <td valign="top" width="25%">
    <a href="../doc/RM/RM_H5F.html#File-GetPBStats">
    <code>H5Fget_page_buffering_stats</code></a>&nbsp;</td>
    <td valign="top" width="75%">
    Gathers page buffer statistics regarding page access when it is enabled.
    </td>
</tr>

<tr><td bgcolor="#FFFFFF" colspan="2">&nbsp;</td></tr>

<tr>
    <td valign="top" width="25%">
    <a href="../doc/RM/RM_H5F.html#File-ResetPBStats">
    <code>H5Freset_page_buffering_stats</code></a>&nbsp;</td>
    <td valign="top" width="75%">
    Resets the page buffer statistics.
    </td>
</tr>

<tr><td bgcolor="#FFFFFF" colspan="2">&nbsp;</td></tr>



<tr>
<td bgcolor="#FFFFFF" align="left" valign="top" colspan="2">
    <font size="5" color="#004488"><a name="Tools">Tools</a></font>
    </td></tr>

<tr>
    <td colspan="2">
    <table border="0" width="100%" cellpadding="5">
    <tr>
    <td align="left" valign="top" width="15%">
    <code><a href="../doc/RM/Tools.html#Tools-Repack">h5repack</a></code>
    </td>
    <td align="left" valign="top" width="85%">
    The following options were added to <code>h5repack</code>:
    <p/>
    <code>-G FS_PAGESIZE</code>,<code>--fs_pagesize=FS_PAGESIZE</code> enables the file
    space page size to be changed to <code>FS_PAGESIZE</code>.
    <p/>
    <code>-P FS_PERSIST</code>,<code>--fs_persist=FS_PERSIST</code> sets the persisting free space to persist
    (<code>1</code>) or to not persist (<code>0</code>).
    <p/>
    <code>-S FS_STRATEGY</code>, <code>--fs_strategy=FS_STRATEGY</code> sets the file space management strategy.
    <p/>
    <code>-T FS_THRESHOLD</code>, <code>--fs_threshold=FS_THRESHOLD</code> sets the free-space section threshold.
    </td>
    </tr>
    </table>
    </td>
</tr>



</table></td></tr>
<!-- end nested table -->



<tr><td bgcolor="#FFFFFF" colspan="2">&nbsp;</td></tr>




</table>
<br />



<!-- BEGIN FOOTER INFO -->

<br />
<hr />
<table border="0" width="100%">
    <tr><td width="45%" align="left" valign="bottom">
        <font face="arial,helvetica" size="-1">
        The HDF Group Help Desk: <img src="Graphics/help.png" align="top" 
        height="14" alt="The HDF Group Help Desk"></font>
        <br />
        <!-- hhmts start -->
        <font face="arial,helvetica" size="-1">
        Last modified: April 2017 
        <!-- hhmts end -->

        <p>
        </font>
    </td><td width="10%" rowspan="2">&nbsp;
    </td><td width="45%" align="right" valign="top" rowspan="2">
        <font face="arial,helvetica" size="-1">
        <a href="https://support.hdfgroup.org/ftp/HDF5/releases/COPYING">Copyright</a> by The HDF Group.
        <br />
        All rights reserved.
        </font>
    </td></tr>
</table>






</body>
</html>
