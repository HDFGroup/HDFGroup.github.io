
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!-- If no var is set for $page_title on the top of each page than default title will be HDF Group -->

<title>
HDF5 FAQ -- How is HDF5 different than HDF4 ?</title>
	<meta name="keywords" content="hdf, hdfeos, blog, hdf blog, hdf5 blog, hdf5, hdf4, hdf tools, hdf libraries, hdf viewer, hdf format, hdf file, hdf java, nafxcw.lib, phdf5, open source, hierarchical data format, ncsa, database, python hdf, mike folk, hdfview, hdf5 parallel" />
	<meta name="description" content="The HDF Group is a not-for-profit corporation with the mission of sustaining the HDF technologies and supporting HDF user communities worldwide with production-quality software and services." />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="expires" content="Wed, 26 Feb 2010 08:21:57 GMT" />
	<meta name="verify-v1" content="/m03HNmaDgGAcDe0PFtEVnXGtCkoeOocjr/Jwey2gdI=" />
	<link href="/css/layout.css" rel="stylesheet" type="text/css" media="screen, projection" />
	<link href="/css/print.css" rel="stylesheet" type="text/css" media="print" />
	<link rel="stylesheet" type="text/css" href="/css/js_style.css" />
	<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.2.0/prototype.js"></script>
	<!--<script type="text/javascript" src="/scriptaculous/lib/prototype.js"></script>-->
	<script type="text/javascript" src="/scriptaculous/src/effects.js"></script>
	<script type="text/javascript" src="/scriptaculous/validation.js"></script>
	<script type="text/javascript" src="/scriptaculous/animatedcollapse.js"></script>
	<script type="text/javascript" src="/scriptaculous/rollover.js"></script>	
	<script type="text/javascript" src="/scriptaculous/functions.js"></script>
	<script type="text/javascript" src="/scriptaculous/sorttable.js"></script>
	<!--<script type="text/javascript" src="/jquery-1.2.2.pack.js"></script>-->
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="/scriptaculous/jssor.slider.min.js"></script>

 	<link rel="stylesheet" type="text/css" href="/featuredcontentglider.css" />
    <script type="text/javascript" src="/featuredcontentglider.js"></script>

	</head>
	<body>
	<div id="mast_head">
		<a href="https://www.hdfgroup.org/"><img src="/images/hdf_logo.jpg" height="70" style="display:block; padding-left:10px;" align="left" alt="hdf images" /></a>
		<img src="/images/logo_5.jpg" height="70" style="display:block;" align="right" alt="hdf images" />
	</div> 
				
	<div id="nav_wrapper">
		<div>
		<div id="section-">
			<ul id="nav">
				<li id="t-index"><a href="https://www.hdfgroup.org/">Home</a> </li>
				<li id="t-products"><a href="/products/">Products</a></li>
				<li id="t-services"><a href="/services/">Services</a></li>
				<li id="t-about"><a href="/about/">About Us</a></li>
				<li id="t-news"><a href="/news/">News</a> </li>
				<li id="t-blog"><a href="https://www.hdfgroup.org/blog">Blog</a></li>
				<li id="t-contact"><a href="/about/contact.html">Contact Us</a></li> 
			</ul>
			<script type="text/javascript">
			
  (function() {
    var cx = '007250492606109219119:sb2eg2bgoyy';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>	
					<script type="text/javascript">
					    jQuery(document).ready(function ($) {
					        // var options = {
					        //     $ArrowNavigatorOptions: {
					        //         $Class: $JssorArrowNavigator$,
					        //         $ChanceToShow: 2
					        //     }
					        // };					    	


							var options = { 
											$AutoPlay: true, $SlideshowOptions: { $Class: $JssorSlideshowRunner$, $Transitions: [{ $Duration:5000, $Fade: true, $Opacity:2 }] } , 
											$ArrowNavigatorOptions: { 
												$Class: $JssorArrowNavigator$, 
												$ChanceToShow: 2
											}
										  };


					        var jssor_slider1 = new $JssorSlider$('slider1_container', options);
					    });
					</script>
									                  
			
		</div>
		</div>             
	</div>
				
<!--START: MAIN -->
<div id="wrapper" style="margin-top:-15px;"> 

<!--START: SIDE_BAR -->
<div id="side_bar">

<form method="get" action="" class="form" >
	<select onchange="window.open(this.options[this.selectedIndex].value,'_top')" name="" style="border:2px solid #c1c1c1;">
		<option value="" class="ql1">- - Quick Links - -</option>
		<option value="/HDF5/" class="ql">HDF5</option>
		<option value="/products/hdf4/" class="ql">HDF4</option>
		<option value="/tools/" class="ql">Tools</option>
		<option value="/projects/" class="ql">Projects</option>
		<option value="/downloads/" class="ql">Downloads</option>
		<option value="/documentation/" class="ql">Documentation</option>
	        <option value="/pubs/" class="ql">Publications</option>
		<option value="/about/" class="ql">Contact Us</option>
	</select>
</form>
<ul style="border:1px solid #c1c1c1; margin-top:25px;"> 

	<li style="background:url(/images/menubg.png); padding:0px; padding-left:7px; color:#27343C; font-weight:500; text-align:left;">
	LINKS</li><li><a href="https://www.hdfgroup.org/">Main Website</a></li><li><a  href="/HDF5/whatishdf5.html">What is HDF5?</a></li><li><a  href="/about/HDF5Brochure_2012.pdf">Online Brochure</a></li><li><a  href="/downloads/index.html">Downloads</a></li><li><a  href="/HDF5/doc/index.html">Documentation</a></li><li><a  href="/products/hdf5_tools/">Software using HDF5</a></li><li><a  href="/HDF5/users5.html">HDF5 Users</a></li><li><a  href="/HDF5/hdf5-files.html">Sample HDF5 Files</a></li><li><a  href="/HDF5/acknowledge5.html">Acknowledgments</a></li><li><a  href="/products/licenses.html">Licenses</a></li></ul> 

</div>

<!--END: SIDE_BAR -->

<!--START: CONTENT -->
<div id="content">
<p><font color="red"><center><strong>This web site is no longer maintained (but will remain online).<br /> Please see The HDF Group's new <a href="https://portal.hdfgroup.org">Support Portal</a> for the latest information.</strong></center></font></p>
	<div class=bc><p style="color:orange; ";><a href="/" title="HOME">HOME</a> &gt; <a href="/products/" title="PRODUCTS">PRODUCTS</a> &gt; <a href="/products/hdf5_tools/" title="HDF5_TOOLS">HDF5_TOOLS</a> &gt; <a href="/products/hdf5_tools/h4toh5/" title="H4TOH5">H4TOH5</a></p></div>
<fieldset><h1> HDF5 FAQ -- How is HDF5 different than HDF4 ?</h1></fieldset>


<p style="margin-top:25px;">

<h3>What are the Most Noticeable Differences between HDF4 and HDF5?</h3>
 
<ul>
<p>
The HDF5 Format is completely different from HDF4.  For most users it will 
never be necessary to know about the file format for either format.
<P>
Most users will work with the Data Model and APIs.  The HDF4 and HDF5
Data Models and APIs are considerably different.
</ul>
<hr>

<p>
 <h3>How is the HDF5 Data Model Different from HDF4?</h3></p>
<p>
<ul>
<strong>The HDF4 Data Model has eight basic objects:</strong>
<UL>
<LI>A scientific dataset (SD), a multidimensional array with dimension scales
<LI>An 8-bit raster image (DFR8), a 2-dimensional array of 8-bit pixels
<LI>A 24-bit raster image (DF24), a 2-dimensional array of 24-bit pixels
<LI>A general raster image (GR), a 2-dimensional array of multi-component
    pixels
<LI>An 8-bit color lookup table or palette (DFP), a 256 by 3 array of 8
    bit integers
<LI>A table (Vdata), a sequence of records
<LI>An annotation (AN), a stream of text that can be attached to any 
    object
<LI>A group (Vgroup), a structure for grouping objects
</UL>
<P>
<strong>HDF5 includes two primary objects:</strong>
<UL>
<LI>A dataset, a multidimensional array of records
<LI>A group, a structure for grouping objects
</UL>
The HDF4 objects can all be conceptually mapped to an HDF5 Group or 
Dataset. <br>
 </p>
 
<p>In addition to the fundamental data objects, HDF5 manages dataspaces, data 
types, and attributes as objects in their own right. HDF4 uses these concepts, 
but has no object model that represents them.<br>
 </p>
 
<p>The HDF5 data model is "simpler" in the sense that it has fewer objects 
and has a consistent object model throughout. In comparison, HDF4 has many 
more objects, and lacks a clear object model.<br>
 </p>
 
<p>On the other hand, the HDF5 data model exposes many details. This makes 
the object model very powerful, but usually requires the user program to handle
many routine details. In contrast, the HDF4 objects are simpler, requiring 
less programming to accomplish simple tasks.<br>
 </p>
</ul>

<hr>
<h3>How is the HDF5 API Different?</h3>

<ul>
 
<p>HDF4 has interfaces for the six types of objects supported, which allow 
a user program to perform common operations in a few calls.  Equivalent 
operations may require many more calls to HDF5, even for very simple tasks. 
<br>
 </p>
 
<p>The <A HREF="/HDF5/doc/HL/">HDF5 high-level APIs</A> provide simpler 
interfaces for common tasks. </p>
</ul>
<hr>

<h3>What features does HDF4 have that HDF5 does not (yet) provide?</h3>
<ul>
   
<p>Aside from the general differences, HDF5 does not currently support these  
features of HDF4: </p>
<ul>
<li> <p>Can I read/write netCDF with HDF5? No, but see the
<a href="/products/hdf5_tools/convert-netcdf.html">Converting
HDF5 Files to NetCDF</a> page for more information. 
</p>
</li>

<li><p>Can I use JPEG, etc. Compression with HDF5? 

<p>HDF5 currently supports only GZIP and SZIP  compression. However, additional compression 
can be added easily.</p>
</li>
</ul>
</ul>
<hr>

<h3>What features does HDF5 have that HDF4 does not?</h3>
<ul>

<li><p> <b>An HDF5 file has a true hierarchical file structure and a naming scheme 
for all the objects in the file (path names).</b></p>

<p>
HDF5 uses a true hierarchical file structure, similar to the Unix file
system.  There is a "root group" and all objects belong to at least
one group.  In HDF5, every link has a name and objects are accessible
by path names.
<P>
HDF4 uses a "pseudo-flat" file structure using Vgroups.  There is no
"root group" and objects do not have to belong to a group (Vgroup).  Not all
HDF4 objects have names.

</li>

<li>
<p><a name="ds"> HDF5 has "Dataspace" objects, which are not in HDF4.</a></p>
 
<p>In HDF5, a dataspace describes the positions of elements in a dataset.  
  However, it is not the space allocated for a dataset. </p>
 
<p>In HDF4, the software handled this, so the idea of a dataspace did not exist. </p>
 
<p>To give more flexibility in defining objects in HDF5, the 
responsibility of creating a dataspace was given to the user.  Therefore, 
whenever an object is created, a dataspace for the object has to be created 
first. </p>
 
<p>Currently in HDF5, only simple dataspaces are supported. 
 A simple  dataspace is a regular N-dimensional array of data points.  A <i>
scalar</i> dataspace is a special case of the simple dataspace, which is
defined to be a 0-dimensional single data point in size.  It is used for
 creating strings in HDF5.    </p>
</li>

<li>
<p> <a name="dt"> HDF5 has "Datatype" objects, which are different than 
HDF4 datatypes.</a></p>

<p> In HDF 4, a datatype had a specific value always.  In HDF5, 
a datatype is a datatype identifier created when the object was opened by 
HDF5. It can have a different value from one HDF5 session or platform to the
next.  To obtain information about a datatype a user can  make H5T calls, 
passing in the datatype identifier as a parameter.   New datatypes can be 
derived from existing types. </p>
 
<p> In HDF5 you have "standard" pre-defined types.  For example:
 </p>
 
<pre>
   H5T_IEEE_F64LE     Eight-byte, little endian, IEEE floating point
   H5T_STD_UI6BE      Two-byte, big endian, unsigned integer
</pre>
<p>
These datatypes have the same meaning on different platforms.

 You also have "native" pre-defined types.  For example:
</p>
<pre>
   H5T_NATIVE_INT   (int)
   H5T_NATIVE_FLOAT (float)
</pre>
<p>
These datatypes can be different on different platforms.  For example,
H5T_NATIVE_FLOAT might be 16-bit on one platform and 32-bit on another.<br>
</p>
</li>

<li>
<p>HDF5 supports multiple storage models and it supports MPI-IO.
 </p>
<p>HDF5 has an open interface to access raw storage. This enables HDF5 files 
to be written to a variety of media, including sequential files, families 
of files, memory, Unix sockets (i.e., a network).
<p>New "Virtual File" drivers can be added to support new storage access mechanisms.<br>
<P>
HDF5 also supports MPI-IO with Parallel HDF5.  When building HDF5, parallel 
support is included by configuring with the --enable-parallel option.  A
tutorial for Parallel HDF5 is included with the <a href="/HDF5/Tutor/">HDF5 Tutorial</a>.
 
<!-- 
<p>See [VFL reference????]<br>
-->
 </p>
</UL>
</li>
</UL>

<h2 class="bluebg" style="text-align:center;">How do I....?</h2>

<h4>...convert software that uses HDF4 to start using HDF5?</h4>
<ul>
<P> In general, it will be necessary to rewrite software that uses HDF4.</p>
</ul>


<p><h4>...use HDF5 data with the HDF4 library and vice-versa?<br> </h4></p>
<ul>
<p>HDF5 data cannot be read or written by HDF4.  HDF4 data cannot be read or written by HDF5.<br>
 </p>
</ul>


<p><h4>...convert data from HDF5 to HDF4?<br>
 </h4></p>
<ul>
<p>Some objects in an HDF5 file can be conceptually mapped to equivalent HDF4
objects. 
See the <A HREF="/HDF5/doc/ADGuide/H4toH5Mapping.pdf">H4
 to H5 Mapping Specification (pdf)</A>. However, HDF5 has many
more possibilities than HDF4, so many HDF5 objects simply cannot be translated
to HDF4. Also, some objects might be converted to more than one possible
HDF4 object, depending on the intention of the creator.</p>
 
<p>The h5toh4 utility can convert some of the objects of an HDF5 file 
to a default HDF4 file.<br>
 </p>
</UL>  

<p><h4>...convert data from HDF4 to HDF5?<br>
 </h4></p>
<UL> 
<p>Almost all HDF4 objects can be conceptually mapped to equivalent HDF5 objects.
See the <A HREF="/HDF5/doc/ADGuide/H4toH5Mapping.pdf">H4
 to H5 Mapping Specification (pdf)</A>.
The h4toh5 utility converts all the objects
in an HDF4 file to a default HDF5 file. The <A HREF="/products/hdf5_tools//h4toh5/libh4toh5.html">H4 to H5 library</A> provides
a conversion for individual objects.<br>
 </p>
 <p>
It is important to realize, though, that a default conversion preserves
the design of the HDF4 file, which may not be an optimal design for the resulting 
HDF5 file. The H4 to H5 library can help users convert HDF4 objects to create 
the HDF5 file they want.
</p>
</ul>

<h4>...find out what is in an HDF5 file?</h4>
<ul>
<p>
The h5dump utility lists the contents of an HDF5 file<br>
</ul>

<p><h4>...create HDF4 objects in HDF5?</h4>
<ul>
<p>
 You may want to review the 
<A HREF="/HDF5/doc/ADGuide/H4toH5Mapping.pdf">H4
 to H5 Mapping Specification (pdf)</A> for detailed information about
how to create HDF4 objects in HDF5.  The following is generally how
HDF4 objects get created in HDF5.
<P> 
<ul class="ul">

 <li class="li3">
    <p><strong>SDS</strong>:</p><p>A simple HDF5 dataset is comparable to an SDS. 
    </p>
 </li>

 <li class="li3">
    <p><strong>Vgroups</strong>:</p>
    <p> HDF5 Group objects are similar to Vgroups, and are 
      used in exactly the same way.
    </p> 
  </li>

 <li class="li3">
    <p><strong>Vdatas</strong>:
    </p>
     <p>
A compound datatype is typically used in instances where you want to obtain
a "record" of information with differing datatypes, similar to a Vdata.  The 
<a href="/HDF5/Tutor">HDF5 Tutorial</a> has an example of using
 compound datatypes.   
We also have an HDF5 High Level Interface for working with tables.  See:
<a href="/HDF5/doc/HL/RM_H5TB.html">H5TB: HDF5 Table Interface</a>
   </p>
   </li> 

 <li class="li3">
  <p><strong>Images (GR, DFR8, DF24)</strong>:
  <p> 
 With HDF5 we have developed a "template" or specification  for creating 
images. In general with HDF5, if a dataset attribute called "CLASS" exists 
with a  value of "IMAGE", then the data will be interpeted as an image.  
There are many other attributes specified for clearly defining 
 an image, as well.  For details, refer to the  
<a href="/HDF5/doc/ADGuide/ImageSpec.html">Image  and 
Palette Specification</a>  in the HDF5 Application Developer's Guide.  
  </p>
  </li>

  <li class="li3">
  <p><strong>Palettes:</strong></p>
  <p> If a dataset attribute called "PALETTE" exists that
is defined according to the <a href="/HDF5/doc/ADGuide/ImageSpec.html">Image  and Palette Specification</a> then the dataset will be interpreted as
a palette.
  </li>

  <li class="li3">
  <p><strong>Annotations:</strong></p>
  <p>
     In HDF5, attributes are used instead of annotations. <!-- ( mention user block??) -->
  </p>
  </li>
 </UL> 
</ul>


<p> <a name="str1"> <h4>...create and use "String" data?</h4></a>
<UL>
<P>String attributes/datasets are created differently in HDF4 than they are
in HDF5.</p>
 
<p>In HDF4, you typically used the DFNT_CHAR8 datatype 
to create the attribute/dataset and then it showed up as a string  when viewed
with a tool for reading HDF files.  In HDF5, there is a  similar datatype, 
H5T_NATIVE_CHAR, but if you use this then your data  will NOT show up as a
string with HDF5 tools.  It will show up as individual characters.  If you
wish to use strings in HDF5, then you should use the H5T_C_S1 datatype, as
follows (in C):</a>  </p>
 
<PRE>
    ...
    hid_t       file_id, dataset_id, space_id, stype, attr_id, grp_id;
    herr_t      status;
    size_t      size;

    space_id = H5Screate (H5S_SCALAR);   
    stype = H5Tcopy (H5T_C_S1);
    size = 21;                           /* Size of string for this example */ 
    status = H5Tset_size (stype, size);  /* Set the length of the string */

    /* Then use "stype" when calling H5Acreate or H5Dcreate. 
       For a dataset it might look as follows: 
         dataset_id = H5Dcreate (file_id, "Sdata", stype, space_id, H5P_DEFAULT, H5P_DEFAULT, H5P_DEFAULT); 

       For an attribute it might look as follows:
         attr_id = H5Acreate (grp_id, "Adata", stype, space_id, H5P_DEFAULT);
    */
    ...
</PRE>
<p>
  The HDF5 Examples by API on the <a href="/HDF5/examples/">HDF5 Examples</a>
 page, contains examples of creating strings in HDF5. As an example, see the C
 example, h5ex_t_string.c, which creates a string dataset.
</UL>
 <br>

<h4>...create a Chunked/Compressed Dataset?</h4>

<ul>
<p>
The storage properties, including chunking and compression, are 
controlled with an HDF5 Property List.  See the HDF5 tutorial topic
<a href="/HDF5/Tutor/extend.html">Creating an
Extendible Dataset</a>.
</p>
</ul>


<h4>...read/write a sub-set or sub-sample of a Dataset</h4>
<ul>
<p>
HDF5 supports a very flexible and general set of data selection
features, which control both the source and destination.  HDF5
supports:
<P>
<UL>
   <LI> Hyperslabs, including repeated blocks as well as strides
   <LI> Unions of hyperslabs
   <LI> Sets of points
</UL>
<p>
See the HDF5 Tutorial topic <a href="/HDF5/Tutor/selectsimple.html">Reading From or Writing to a subset of a dataset</a>.
</p>
</ul>

 <h4>...find the tag and ref of an HDF5 object?</h4>
</p>
<ul>
<p>
 HDF5 does not use tags and refs.<br>
</p>
</ul>

<h4>...locate and access specific objects in an HDF5 file?</h4>
<ul>
<p>
You have to traverse all the objects in the file using H5Giterate.
For any object for which the link count is > 1, record it in a table,
using "objno" as a key (See H5Gget_objinfo).  The first time you
see it, there will be no entry in the table, and subsequent visits
will find an entry.</p>
<P>
If you need a table of contents for the whole file, then collect all the 
information you need, and use "objno" as a key to avoid loops.</p>
<P>
In a future release of HDF5 we will be providing a function to return a
table of contents, as well as functions to determine the number of members
in a group and to return the name and type of the member of the group for 
a specific index value.
</p>
</ul>

<h4>...write or access global attributes in HDF5? </h4>
<ul>
<p>

You can write attributes to the root group, which would be
"global" to all objects in the HDF5 file.  To do this you must
open the root group with <I>H5Gopen</I> and attach the attribute
to this group.  You cannot attach an attribute to the file, using
the file identifier.
</p>
</ul>

<hr>

<i>
- - Last modified: 31 January 2017</i>
	   </div>
	   <!--END: CONTENT -->
<!--END: WRAPPER -->
<script src="/scriptaculous/gatag.js" type="text/javascript"></script>

<!-- <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> -->
				
<!--
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-3782034-1");
pageTracker._trackPageview();
} catch(err) {}</script>
-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3782034-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>
